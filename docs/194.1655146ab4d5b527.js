"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[194],{9127:(x,d,a)=>{a.d(d,{I:()=>l});var t=a(6895),s=a(1571);class l{static#t=this.\u0275fac=function(e){return new(e||l)};static#e=this.\u0275mod=s.oAB({type:l});static#n=this.\u0275inj=s.cJS({imports:[t.ez]})}},860:(x,d,a)=>{a.d(d,{D:()=>t});var t=(()=>{return(s=t||(t={}))[s.info=0]="info",s[s.check=1]="check",s[s.warning=2]="warning",s[s.trash=3]="trash",s[s.edit=4]="edit",t;var s})()},2368:(x,d,a)=>{a.d(d,{Y:()=>r});var t=a(1458),s=a(5698),l=a(1571),_=a(3143);class r{constructor(g){this.accountService=g,this.accountService.currentAccount$.pipe((0,s.q)(1)).subscribe(u=>this.user=u)}transform(g){return!!this.user&&(!!this.user.userRoles.some(u=>u.id==t.v.AppAdmin||u.id==t.v.CompanyAdmin)||this.user.userRoles.some(u=>u.id==g))}static#t=this.\u0275fac=function(u){return new(u||r)(l.Y36(_.B,16))};static#e=this.\u0275pipe=l.Yjl({name:"userRoles",type:r,pure:!0})}},7339:(x,d,a)=>{a.d(d,{O:()=>u});var t=a(1571),s=a(2687),l=a(6895),_=a(2216),r=a(433);class e{constructor(C){this.el=C,this.leftClass="left"}ngOnInit(){this.el.nativeElement.getBoundingClientRect().x<0&&this.el.nativeElement.classList.add(this.leftClass)}static#t=this.\u0275fac=function(p){return new(p||e)(t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:e,selectors:[["","leftPositionElement",""]]})}function g(O,C){if(1&O){const p=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"input",5),t.NdJ("ngModelChange",function(h){t.CHM(p);const f=t.oxw();return t.KtG(f.inputText=h)}),t.qZA(),t.TgZ(3,"fa-icon",6),t.NdJ("click",function(){t.CHM(p);const h=t.oxw();return t.KtG(h.onClickApply())}),t.qZA(),t.TgZ(4,"fa-icon",7),t.NdJ("click",function(){t.CHM(p);const h=t.oxw();return t.KtG(h.onClickCancel())}),t.qZA()()()}if(2&O){const p=t.oxw();t.xp6(2),t.Q6J("ngModel",p.inputText),t.xp6(1),t.Q6J("icon",p.faCheck),t.xp6(1),t.Q6J("icon",p.faX)}}class u{constructor(){this.faFilter=s.G_j,this.faCheck=s.fV7,this.faX=s.WA2,this.showContent=!1,this.applyFilterEvent=new t.vpe}onClickApply(){this.applyFilterEvent.emit(this.inputText),this.showContent=!1}onClickCancel(){this.inputText="",this.showContent=!1,this.applyFilterEvent.emit(this.inputText)}toggleFilterColumn(C){this.showContent=!this.showContent}static#t=this.\u0275fac=function(p){return new(p||u)};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-column-filter"]],outputs:{applyFilterEvent:"applyFilterEvent"},decls:3,vars:2,consts:[[1,"container-box"],["role","button",3,"icon","click"],["class","content","leftPositionElement","",4,"ngIf"],["leftPositionElement","",1,"content"],[1,"form-area","d-flex","align-items-center"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"text-success",3,"icon","click"],["role","button",1,"text-danger",3,"icon","click"]],template:function(p,T){1&p&&(t.TgZ(0,"div",0)(1,"fa-icon",1),t.NdJ("click",function(f){return T.toggleFilterColumn(f)}),t.qZA(),t.YNc(2,g,5,3,"div",2),t.qZA()),2&p&&(t.xp6(1),t.Q6J("icon",T.faFilter),t.xp6(1),t.Q6J("ngIf",T.showContent))},dependencies:[l.O5,_.BN,r.Fj,r.JJ,r.On,e],styles:[".container-box[_ngcontent-%COMP%]{position:relative}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;background:white;right:0;width:13rem;border-radius:.375rem;padding:.5rem;box-shadow:0 2px 5px #727272}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-area[_ngcontent-%COMP%]{gap:.3rem}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-area[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.25rem}.container-box[_ngcontent-%COMP%]   .content.left[_ngcontent-%COMP%]{right:auto;left:0}"]})}},8073:(x,d,a)=>{a.d(d,{H:()=>c});var t=a(1571),s=a(2771),l=a(6895),_=a(2216),r=a(2687),e=a(860);class g{constructor(){this.listActions=e.D,this.faEdit=r.Xcf}transform(n){return r.Xcf}static#t=this.\u0275fac=function(o){return new(o||g)};static#e=this.\u0275pipe=t.Yjl({name:"listActionIcon",type:g,pure:!0})}function u(i,n){if(1&i&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&i){const o=n.$implicit;t.xp6(1),t.hij(" ",o," ")}}function O(i,n){1&i&&(t.TgZ(0,"th"),t._uU(1," Acciones "),t.qZA())}function C(i,n){if(1&i){const o=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const v=t.CHM(o).$implicit,E=t.oxw(2).$implicit,w=t.oxw(2);return t.KtG(w.actionButtonClicked(v,E))}),t._UZ(1,"fa-icon",9),t.ALo(2,"listActionIcon"),t.qZA()}if(2&i){const o=n.$implicit;t.xp6(1),t.Q6J("icon",t.lcZ(2,1,o))}}function p(i,n){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,C,3,3,"button",7),t.qZA()),2&i){const o=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",o.actions)}}function T(i,n){if(1&i){const o=t.EpF();t.TgZ(0,"tr",6),t.NdJ("click",function(b){const E=t.CHM(o).$implicit,w=t.oxw(2);return t.KtG(w.onRowClicked(b,E))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,p,2,1,"td",4),t.qZA()}if(2&i){const o=n.$implicit,m=t.oxw(2);t.xp6(2),t.hij(" ",o.id," "),t.xp6(2),t.hij(" ",o.name," "),t.xp6(1),t.Q6J("ngIf",m.actions)}}function h(i,n){if(1&i&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr"),t.YNc(3,u,2,1,"th",3),t.YNc(4,O,2,0,"th",4),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,T,6,3,"tr",5),t.qZA()()),2&i){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.headers),t.xp6(1),t.Q6J("ngIf",o.actions),t.xp6(2),t.Q6J("ngForOf",o.items)}}function f(i,n){1&i&&(t.TgZ(0,"p",10),t._uU(1," No se encontraron elementos\n"),t.qZA())}class c{constructor(){this.headers=s.$x.itemsListDefault,this.rowClickedEvent=new t.vpe,this.actionButtonClickedEvent=new t.vpe}onRowClicked(n,o){n.composedPath().some(m=>"svg"===m.tagName)||this.rowClickedEvent.emit(o)}actionButtonClicked(n,o){this.actionButtonClickedEvent.emit({action:n,item:o})}static#t=this.\u0275fac=function(o){return new(o||c)};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-items-list"]],inputs:{items:"items",actions:"actions",headers:"headers"},outputs:{rowClickedEvent:"rowClickedEvent",actionButtonClickedEvent:"actionButtonClickedEvent"},decls:2,vars:2,consts:[["class","table table-hover",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",3,"click",4,"ngFor","ngForOf"],["role","button",3,"click"],["class","action-button","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"action-button",3,"click"],[1,"text-primary",3,"icon"],[1,"text-center"]],template:function(o,m){1&o&&(t.YNc(0,h,7,3,"table",0),t.YNc(1,f,2,0,"p",1)),2&o&&(t.Q6J("ngIf",m.items&&m.items.length),t.xp6(1),t.Q6J("ngIf",m.items&&!m.items.length))},dependencies:[l.sg,l.O5,_.BN,g],styles:[".action-button[_ngcontent-%COMP%]{padding:0;background:transparent;border:none;margin-right:.5rem}.action-button[_ngcontent-%COMP%]:last-child{margin-right:none}.action-button[_ngcontent-%COMP%]:hover{color:#000}"]})}},6709:(x,d,a)=>{a.d(d,{a:()=>h});var t=a(1571),s=a(6895),l=a(7339);function _(c,i){if(1&c&&(t.TgZ(0,"th")(1,"div",6)(2,"p"),t._uU(3),t.qZA()()()),2&c){const n=i.$implicit;t.xp6(3),t.Oqu(n)}}function r(c,i){if(1&c&&(t.ynx(0),t.YNc(1,_,4,1,"th",5),t.BQk()),2&c){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.customHeaders)}}function e(c,i){if(1&c){const n=t.EpF();t.TgZ(0,"th")(1,"div",6)(2,"p",8),t.NdJ("click",function(m){t.CHM(n);const b=t.oxw().$implicit,v=t.oxw(3);return t.KtG(v.sortBy(m,b.key))}),t._uU(3),t.qZA(),t.TgZ(4,"app-column-filter",9),t.NdJ("applyFilterEvent",function(m){t.CHM(n);const b=t.oxw().$implicit,v=t.oxw(3);return t.KtG(v.onFilterApplied(m,b.key))}),t.qZA()()()}if(2&c){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.key)}}function g(c,i){if(1&c&&(t.ynx(0),t.YNc(1,e,5,1,"th",7),t.BQk()),2&c){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf","id"!=n.key)}}function u(c,i){if(1&c&&(t.YNc(0,g,2,1,"ng-container",5),t.ALo(1,"keyvalue")),2&c){const n=t.oxw(2);t.Q6J("ngForOf",t.lcZ(1,1,n.filteredData[0]))}}function O(c,i){if(1&c&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&c){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.value," ")}}function C(c,i){if(1&c&&(t.ynx(0),t.YNc(1,O,2,1,"td",7),t.BQk()),2&c){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf","id"!=n.key)}}function p(c,i){if(1&c){const n=t.EpF();t.TgZ(0,"tr",8),t.NdJ("click",function(){const b=t.CHM(n).$implicit,v=t.oxw(2);return t.KtG(v.rowClickedEvent.emit(b))}),t.YNc(1,C,2,1,"ng-container",5),t.ALo(2,"keyvalue"),t.qZA()}if(2&c){const n=i.$implicit;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,n))}}function T(c,i){if(1&c&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr"),t.YNc(3,r,2,1,"ng-container",2),t.YNc(4,u,2,3,"ng-template",null,3,t.W1O),t.qZA()(),t.TgZ(6,"tbody"),t.YNc(7,p,3,3,"tr",4),t.qZA()()),2&c){const n=t.MAs(5),o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.hasCustomHeaders)("ngIfElse",n),t.xp6(4),t.Q6J("ngForOf",o.filteredData)}}class h{constructor(){this.filteredData=[],this.sortingType=f.ascending,this.hasCustomHeaders=!1,this.rowClickedEvent=new t.vpe}ngOnChanges(i){!this.tableData||(this.filteredData=this.tableData,this.hasCustomHeaders=!(!this.customHeaders||!this.customHeaders.length))}onFilterApplied(i,n){this.filteredData=i&&i.length?this.filteredData.filter(o=>!!o[n]&&o[n].toString().toLocaleLowerCase().includes(i.toLocaleLowerCase())):this.tableData}sortBy(i,n){this.sortingType=this.sortingType==f.ascending?f.descending:f.ascending,this.filteredData.sort(this.sortingType==f.ascending?(o,m)=>o[n].localeCompare(m[n]):(o,m)=>m[n].localeCompare(o[n]))}static#t=this.\u0275fac=function(n){return new(n||h)};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-table"]],inputs:{tableData:"tableData",customHeaders:"customHeaders"},outputs:{rowClickedEvent:"rowClickedEvent"},features:[t.TTD],decls:1,vars:1,consts:[["class","table table-hover",4,"ngIf"],[1,"table","table-hover"],[4,"ngIf","ngIfElse"],["elseBlock",""],[3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","gap-2"],[4,"ngIf"],[3,"click"],[3,"applyFilterEvent"]],template:function(n,o){1&n&&t.YNc(0,T,8,3,"table",0),2&n&&t.Q6J("ngIf",o.filteredData)},dependencies:[s.sg,s.O5,l.O,s.Nd],styles:["[_nghost-%COMP%]{display:block;width:100%;overflow:auto}th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{cursor:pointer;margin:0}tr[_ngcontent-%COMP%]{cursor:pointer}"]})}var f=(()=>{return(c=f||(f={}))[c.ascending=0]="ascending",c[c.descending=1]="descending",f;var c})()},5090:(x,d,a)=>{a.d(d,{R:()=>s});var t=a(1571);class s{transform(_,r){if(!_)return new Array;switch(r){case"user":return _.map(e=>({id:e.userId,name:e.name}));case"customer":case"branch":case"equipment":return _.map(e=>({id:e.id,name:e.name}));case"workOrderActivity":return _.map(e=>({id:e.id,name:e.description}));case"equipmentParameter":return _.map(e=>({id:e.id,name:`${e.name} | Magnitud: ${e.measurementUnitSymbol}`}));case"measurementUnits":return _.map(e=>({id:e.measurementUnitId,name:`${e.displayName} (${e.symbol})`}));case"toolParameter":return _.map(e=>({id:e.id,name:e.measurementUnitSymbol?`${e.name} | Magnitud: ${e.measurementUnitSymbol}`:`${e.name}`}));case"tool":return _.map(e=>({id:e.toolGuid.slice(-6),name:e.toolName}));default:return new Array}}static#t=this.\u0275fac=function(r){return new(r||s)};static#e=this.\u0275pipe=t.Yjl({name:"toItemList",type:s,pure:!0})}},6785:(x,d,a)=>{a.d(d,{O:()=>l});var t=a(1066),s=a(1571);class l{constructor(){this.workStatePipe=new t.$}transform(r,...e){switch(e[0]){case"branch":return this.branchToTableData(r);case"workOrder":return this.workOrderToTableData(r);default:return[]}}branchToTableData(r){return r.map(e=>({id:e.id,C\u00f3digo:e.code,Nombre:e.name}))}workOrderToTableData(r){return r.map(e=>({id:e.workOrderId,C\u00f3digo:e.internalCode,Estado:this.workStatePipe.transform(e.workState),Cliente:e.customerName,Sucursal:e.branchName}))}static#t=this.\u0275fac=function(e){return new(e||l)};static#e=this.\u0275pipe=s.Yjl({name:"toTableData",type:l,pure:!0})}}}]);