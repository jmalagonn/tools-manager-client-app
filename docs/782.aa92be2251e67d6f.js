"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[782],{9782:(G,b,s)=>{s.r(b),s.d(b,{ToolsManagementModule:()=>_});var r=s(6895),c=s(2590),h=s(8246),t=s(1571),g=s(5307),l=s(433);function x(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.editToolForm.valid&&a.onSubmit())}),t.TgZ(1,"div",2)(2,"label",3),t._uU(3,"Nombre"),t.qZA(),t._UZ(4,"input",4),t.qZA(),t.TgZ(5,"div")(6,"button",5),t._uU(7,"Guardar"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onCancel())}),t._uU(9,"Cancelar"),t.qZA()()()}if(2&n){const o=t.oxw();t.Q6J("formGroup",o.editToolForm),t.xp6(6),t.Q6J("disabled",!o.editToolForm.valid)}}class d{constructor(e){this.fb=e,this.updatedToolEvent=new t.vpe,this.cancelUpdateToolEvent=new t.vpe}ngOnInit(){this.initForm()}initForm(){!this.tool||(this.editToolForm=this.fb.group({toolId:[this.tool.toolId,l.kI.required],toolName:[this.tool.toolName,l.kI.required]}))}onSubmit(){this.updatedToolEvent.emit(this.editToolForm?.value)}onCancel(){this.cancelUpdateToolEvent.emit()}static#t=this.\u0275fac=function(o){return new(o||d)(t.Y36(l.qu))};static#o=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-edit-tool-form"]],inputs:{tool:"tool"},outputs:{updatedToolEvent:"updatedToolEvent",cancelUpdateToolEvent:"cancelUpdateToolEvent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","toolName",1,"form-label","fw-bold"],["type","text","id","toolName","formControlName","toolName",1,"form-control"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],["type","button",1,"btn","btn-outline-dark","ms-3",3,"click"]],template:function(o,i){1&o&&t.YNc(0,x,10,2,"form",0),2&o&&t.Q6J("ngIf",i.editToolForm)},dependencies:[r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}var A=s(7129);function C(n,e){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"ul",11)(2,"li")(3,"p")(4,"b"),t._uU(5,"Nombre:"),t.qZA(),t._uU(6),t.qZA()(),t.TgZ(7,"li")(8,"p")(9,"b"),t._uU(10,"Estado:"),t.qZA(),t._uU(11),t.qZA()()(),t.TgZ(12,"div",12)(13,"button",13),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.setUpdatingTool(!0))}),t._uU(14,"Editar herramienta"),t.qZA()(),t.BQk()}if(2&n){const o=t.oxw(2);t.xp6(6),t.hij(" ",o.tool.toolName,""),t.xp6(5),t.hij(" ",o.tool.toolState.toolStateName,"")}}function U(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"app-edit-tool-form",14),t.NdJ("cancelUpdateToolEvent",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.setUpdatingTool(!1))})("updatedToolEvent",function(a){t.CHM(o);const Q=t.oxw(2);return t.KtG(Q.onToolUpdated(a))}),t.qZA()}if(2&n){const o=t.oxw(2);t.Q6J("tool",o.tool)}}function N(n,e){if(1&n&&(t.TgZ(0,"div",1)(1,"h4",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"h6",5),t._uU(6,"C\xf3digo QR"),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"ngx-qrcode",7),t.TgZ(9,"p",5),t._uU(10),t.ALo(11,"lastCharacters"),t.qZA()()(),t.TgZ(12,"div",8)(13,"h6",5),t._uU(14,"Informaci\xf3n general"),t.qZA(),t.YNc(15,C,15,2,"ng-container",9),t.YNc(16,U,1,1,"app-edit-tool-form",10),t.qZA()()()),2&n){const o=t.oxw();t.xp6(2),t.Oqu(o.tool.toolName),t.xp6(6),t.Q6J("elementType",o.qrCodeElementType)("value",o.tool.toolGuid)("errorCorrectionLevel",o.qrCodeErrorCorrectionLevel),t.xp6(2),t.Oqu(t.lcZ(11,7,o.tool.toolGuid)),t.xp6(5),t.Q6J("ngIf",!o.updatingTool),t.xp6(1),t.Q6J("ngIf",o.updatingTool)}}class p{constructor(e,o){this.route=e,this.httpService=o,this.qrCodeElementType=h.TT.IMG,this.qrCodeErrorCorrectionLevel=h.Jk.HIGH,this.updatingTool=!1}ngOnInit(){this.getTool()}getTool(){const e=this.route.snapshot.paramMap.get("id");this.httpService.get(`Tools/${e}`).subscribe(o=>this.tool=o)}setUpdatingTool(e){this.updatingTool=e}onToolUpdated(e){this.httpService.put("Tools",e).subscribe(o=>{this.tool=o,this.updatingTool=!1})}static#t=this.\u0275fac=function(o){return new(o||p)(t.Y36(c.gz),t.Y36(g.O))};static#o=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-tool-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"text-center","mt-3"],[1,"row","mt-3"],[1,"col-sm-4"],[1,"text-center"],[1,"qr-card"],[1,"text-center",3,"elementType","value","errorCorrectionLevel"],[1,"col-sm-8"],[4,"ngIf"],[3,"tool","cancelUpdateToolEvent","updatedToolEvent",4,"ngIf"],[1,"list-unstyled"],[1,"mt-3"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"tool","cancelUpdateToolEvent","updatedToolEvent"]],template:function(o,i){1&o&&t.YNc(0,N,17,9,"div",0),2&o&&t.Q6J("ngIf",i.tool)},dependencies:[r.O5,h.zF,d,A.$]})}var Z=s(18);function F(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.addToolForm.valid&&a.onSubmit())}),t.TgZ(1,"div",9)(2,"label",10),t._uU(3,"Nombre"),t.qZA(),t._UZ(4,"input",11),t.qZA(),t.TgZ(5,"button",12),t._uU(6,"Guardar"),t.qZA()()}if(2&n){const o=t.oxw();t.Q6J("formGroup",o.addToolForm),t.xp6(5),t.Q6J("disabled",!o.addToolForm.valid)}}class m{constructor(e,o,i){this.bsModalRef=e,this.fb=o,this.httpService=i,this.toolAddedEvent=new t.vpe}ngOnInit(){this.initForm()}initForm(){this.addToolForm=this.fb.group({toolName:["",l.kI.required]})}onSubmit(){this.httpService.post("Tools",{toolName:this.addToolForm?.controls.toolName.value}).subscribe(o=>{this.bsModalRef.hide(),this.bsModalRef.onHide.emit(o)})}static#t=this.\u0275fac=function(o){return new(o||m)(t.Y36(Z.UZ),t.Y36(l.qu),t.Y36(g.O))};static#o=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-add-tool-modal"]],outputs:{toolAddedEvent:"toolAddedEvent"},decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","toolName",1,"form-label"],["type","text","id","toolName","formControlName","toolName",1,"form-control"],[1,"btn","btn-outline-primary",3,"disabled"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nueva herramienta"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.bsModalRef.hide()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,F,7,2,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return i.bsModalRef.hide()}),t._uU(10,"Cerrar"),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("ngIf",i.addToolForm))},dependencies:[r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}var v=s(2687),q=s(2216);function y(n,e){1&n&&(t.TgZ(0,"p",5),t._uU(1,"No se han registrado usuarios a\xfan."),t.qZA())}const J=function(n){return[n]};function E(n,e){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",8),t._UZ(7,"fa-icon",9),t.qZA()()()),2&n){const o=e.$implicit,i=t.oxw(3);t.xp6(2),t.hij(" ",o.toolName," "),t.xp6(2),t.hij(" ",o.toolState.toolStateName," "),t.xp6(2),t.Q6J("routerLink",t.VKq(4,J,o.toolId)),t.xp6(1),t.Q6J("icon",i.faCircleInfo)}}function I(n,e){if(1&n&&(t.TgZ(0,"table",6)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Estado"),t.qZA(),t._UZ(7,"th"),t.qZA()(),t.TgZ(8,"tbody"),t.YNc(9,E,8,6,"tr",7),t.qZA()()),2&n){const o=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",o.tools)}}function S(n,e){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,y,2,0,"p",3),t.YNc(3,I,10,1,"table",4),t.qZA()()),2&n){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",!o.tools.length),t.xp6(1),t.Q6J("ngIf",o.tools.length)}}class u{constructor(){this.faPen=v.IwR,this.faTrash=v.$aW,this.faCircleInfo=v.DBf}static#t=this.\u0275fac=function(o){return new(o||u)};static#o=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-tools-list"]],inputs:{tools:"tools"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col"],["class","text-center",4,"ngIf"],["class","table",4,"ngIf"],[1,"text-center"],[1,"table"],[4,"ngFor","ngForOf"],[3,"routerLink"],["role","button",1,"me-2","text-primary",3,"icon"]],template:function(o,i){1&o&&t.YNc(0,S,4,2,"div",0),2&o&&t.Q6J("ngIf",i.tools)},dependencies:[r.sg,r.O5,c.rH,q.BN]})}class f{constructor(e,o){this.modalService=e,this.httpService=o}ngOnInit(){this.getToolsList()}onOpenAddToolModal(){this.modalRef=this.modalService.show(m),this.modalRef?.onHide&&this.modalRef.onHide.subscribe(e=>{!e.toolGuid||this.getToolsList()})}getToolsList(){this.httpService.get("Tools").subscribe(e=>this.tools=e)}static#t=this.\u0275fac=function(o){return new(o||f)(t.Y36(Z.tT),t.Y36(g.O))};static#o=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-tools-management"]],decls:9,vars:1,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[3,"tools"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Administraci\xf3n de equipos y herramienta"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return i.onOpenAddToolModal()}),t._uU(5,"Agregar herramienta"),t.qZA()(),t.TgZ(6,"h4",1),t._uU(7,"Inventario de herramienta"),t.qZA(),t._UZ(8,"app-tools-list",3),t.qZA()),2&o&&(t.xp6(8),t.Q6J("tools",i.tools))},dependencies:[u]})}const M=[{path:"",component:f},{path:":id",component:p}];class T{static#t=this.\u0275fac=function(o){return new(o||T)};static#o=this.\u0275mod=t.oAB({type:T});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(M),c.Bz]})}var w=s(8748);class _{static#t=this.\u0275fac=function(o){return new(o||_)};static#o=this.\u0275mod=t.oAB({type:_});static#e=this.\u0275inj=t.cJS({imports:[r.ez,T,w.m]})}}}]);