"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[113],{7323:(A,m,n)=>{n.d(m,{G:()=>l});class l{static#t=this.accountLogin="Account/login";static#e=this.addUserApi="Users/addUser";static#o=this.branchesApi="Branches";static#i=this.customersApi="Customers";static#n=this.equipmentApi="Equipment";static#r=this.equipmentParametersApi="Equipment/parameters";static#s=this.measurementUnitsApi="MeasurementUnits";static#c=this.userApi="Users";static#a=this.userEmployeeApi="Users/employee";static#l=this.userEmployeesApi="Users/employees";static#p=this.userRolesApi="UserRole";static#d=this.workItemApi="WorkItem";static#m=this.workOrderApi="WorkOrder";static#u=this.workOrderActivity=`${this.workOrderApi}/activity`;static#_=this.workOrderTypesApi=`${this.workOrderApi}/workOrderTypes`;static#h=this.workOrderTypeApi=`${this.workOrderApi}/workOrderType`;static#f=this.workOrderFilesApi=`${this.workOrderApi}/workOrderFiles`;static#g=this.toolsApi="Tools";static#T=this.toolParametersApi="Tools/parameters";static#k=this.toolOutputsApi="ToolOutputs";static#y=this.workStateApi="WorkState"}},9127:(A,m,n)=>{n.d(m,{I:()=>p});var l=n(6895),_=n(1571);class p{static#t=this.\u0275fac=function(r){return new(r||p)};static#e=this.\u0275mod=_.oAB({type:p});static#o=this.\u0275inj=_.cJS({imports:[l.ez]})}},3113:(A,m,n)=>{n.r(m),n.d(m,{GeneralSettingsModule:()=>y});var l=n(6895),_=n(6619),p=n(9127),u=n(8869),t=n(1571),r=n(433),a=n(2687),h=n(7323),C=n(9453);class f{constructor(o){this.activeModal=o}static#t=this.\u0275fac=function(e){return new(e||f)(t.Y36(C.Kz))};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-delete-modal"]],decls:10,vars:0,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.activeModal.dismiss(!1)}),t.qZA()(),t.TgZ(2,"div",2)(3,"p"),t._uU(4,"\xbfEst\xe1 seguro que desea eliminar ese elemento?"),t.qZA()(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return i.activeModal.close(!1)}),t._uU(7,"Close"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.activeModal.close(!0)}),t._uU(9,"Eliminar"),t.qZA()())}})}var w=n(5307),O=n(7185),b=n(2216);function v(c,o){if(1&c){const e=t.EpF();t.ynx(0),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",8)(4,"fa-icon",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.onClickEditButton(s))}),t.qZA(),t.TgZ(5,"fa-icon",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.onClickTrashButton(s))}),t.qZA()(),t.BQk()}if(2&c){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("icon",i.faEdit),t.xp6(1),t.Q6J("icon",i.faTrash)}}function Z(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"td")(1,"input",11),t.NdJ("ngModelChange",function(s){t.CHM(e);const d=t.oxw(2);return t.KtG(d.workOrderTypeName=s)}),t.qZA()(),t.TgZ(2,"td",8)(3,"fa-icon",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.onClickSaveButton(s))}),t.qZA(),t.TgZ(4,"fa-icon",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.onClickCancelButton(s))}),t.qZA()()}if(2&c){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("value",e.name)("ngModel",i.workOrderTypeName),t.uIk("id","work-order-type-id-"+e.id),t.xp6(2),t.Q6J("icon",i.faSave),t.xp6(1),t.Q6J("icon",i.faX)}}function x(c,o){if(1&c&&(t.TgZ(0,"tr"),t.YNc(1,v,6,3,"ng-container",6),t.YNc(2,Z,5,5,"ng-template",null,7,t.W1O),t.qZA()),2&c){const e=o.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!e.isEditing)("ngIfElse",i)}}function N(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onClickAddNewItem())}),t._uU(1,"A\xf1adir nuevo elemento"),t.qZA()}}function I(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"form",13),t.NdJ("ngSubmit",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onSubmit())}),t.TgZ(1,"div",14)(2,"div",15)(3,"label",16),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",17),t.qZA(),t.TgZ(6,"div",15)(7,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.setIsAddingNewItem(!1))}),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",19),t._uU(10,"Guardar"),t.qZA()()()()}if(2&c){const e=t.oxw();t.Q6J("formGroup",e.addNewItemForm),t.xp6(9),t.Q6J("disabled",!e.addNewItemForm.valid)}}class g{constructor(o,e,i,s){this.httpService=o,this.fb=e,this.modalService=i,this.toastr=s,this.faEdit=a.Xcf,this.faTrash=a.$aW,this.faX=a.EOp,this.faSave=a.r6l,this.isAddingNewItem=!1}ngOnInit(){this.getWorkOrderTypes()}getWorkOrderTypes(){this.httpService.get(h.G.workOrderTypesApi).subscribe(o=>{this.workOrderTypes=[],o.map(e=>this.workOrderTypes.push({...e,isEditing:!1}))})}setIsAddingNewItem(o){this.isAddingNewItem=o}onClickAddNewItem(){this.initForm(),this.setIsAddingNewItem(!0)}initForm(){this.addNewItemForm=this.fb.group({name:["",r.kI.required]})}onSubmit(){this.addNewItemForm?.valid&&(this.setIsAddingNewItem(!1),this.httpService.post(h.G.workOrderTypeApi,{name:this.addNewItemForm.controls.name.value}).subscribe(()=>{this.getWorkOrderTypes()}))}onClickTrashButton(o){this.modalService.open(f).closed.subscribe(i=>i&&this.deleteElement(o))}onClickEditButton(o){this.workOrderTypeName=o.name,o.isEditing=!0}onClickSaveButton(o){o.isEditing=!1,this.httpService.put(`${h.G.workOrderTypeApi}`,{id:o.id,name:this.workOrderTypeName}).subscribe(()=>{this.toastr.success("Elemento actualizado."),this.getWorkOrderTypes()})}onClickCancelButton(o){o.isEditing=!1}deleteElement(o){this.httpService.delete(`${h.G.workOrderTypeApi}/${o.id}`).subscribe(()=>{this.toastr.info("Eliminaci\xf3n realizada con \xe9xito."),this.getWorkOrderTypes()})}static#t=this.\u0275fac=function(e){return new(e||g)(t.Y36(w.O),t.Y36(r.qu),t.Y36(C.FF),t.Y36(O._W))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-work-order-types"]],decls:14,vars:3,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","d-flex","justify-content-center"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"text-center"],["role","button",1,"me-2",3,"icon","click"],["role","button",3,"icon","click"],["type","text",1,"form-control","form-control-row",3,"value","ngModel","ngModelChange"],[1,"btn","btn-outline-primary",3,"click"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end"],[1,"col"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["type","button",1,"btn","btn-outline-danger","me-2",3,"click"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Tipos de trabajo"),t.qZA(),t.TgZ(2,"table",0)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Nombre"),t.qZA(),t._UZ(7,"th"),t.qZA()(),t.TgZ(8,"tbody"),t.YNc(9,x,4,2,"tr",1),t.qZA()(),t.TgZ(10,"div",2)(11,"div",3),t.YNc(12,N,2,0,"button",4),t.YNc(13,I,11,2,"form",5),t.qZA()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.workOrderTypes),t.xp6(3),t.Q6J("ngIf",!i.isAddingNewItem),t.xp6(1),t.Q6J("ngIf",i.isAddingNewItem&&i.addNewItemForm))},dependencies:[l.sg,l.O5,b.BN,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u],styles:[".form-control-row[_ngcontent-%COMP%]{padding-top:.2rem;padding-bottom:.2rem;height:1.3125rem;font-size:.8rem}fa-icon[_ngcontent-%COMP%]{color:#adb5bd}fa-icon[_ngcontent-%COMP%]:hover{color:#0d6efd}"]})}class T{static#t=this.\u0275fac=function(e){return new(e||T)};static#e=this.\u0275cmp=t.Xpm({type:T,selectors:[["app-general-settings"]],decls:6,vars:0,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"row"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Configuraci\xf3n general"),t.qZA(),t.TgZ(3,"section")(4,"div",2),t._UZ(5,"app-work-order-types"),t.qZA()()())},dependencies:[g]})}const M=[{path:"",component:T}];class k{static#t=this.\u0275fac=function(e){return new(e||k)};static#e=this.\u0275mod=t.oAB({type:k});static#o=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(M),u.Bz]})}class y{static#t=this.\u0275fac=function(e){return new(e||y)};static#e=this.\u0275mod=t.oAB({type:y});static#o=this.\u0275inj=t.cJS({imports:[l.ez,k,_.m,p.I]})}},5307:(A,m,n)=>{n.d(m,{O:()=>u});var l=n(529);var p=n(1571);class u{constructor(r){this.httpClient=r,this.api_url="/api/"}get(r){return this.httpClient.get(this.api_url+r)}post(r,a){return this.httpClient.post(this.api_url+r,a)}postFormData(r,a){const h=new l.WM({"Content-Type":"multipart/form-data"});return this.httpClient.post(this.api_url+r,a,{headers:h})}put(r,a){return this.httpClient.put(this.api_url+r,a)}delete(r){return this.httpClient.delete(this.api_url+r)}static#t=this.\u0275fac=function(a){return new(a||u)(p.LFG(l.eN))};static#e=this.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}}]);