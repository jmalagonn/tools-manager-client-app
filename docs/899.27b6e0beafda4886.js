"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[899],{7323:(x,p,r)=>{r.d(p,{G:()=>a});class a{static#t=this.accountLogin="Account/login";static#e=this.addUserApi="Users/addUser";static#s=this.branchesApi="Branches";static#i=this.customersApi="Customers";static#o=this.equipmentApi="Equipment";static#r=this.equipmentParametersApi="Equipment/parameters";static#n=this.measurementUnitsApi="MeasurementUnits";static#a=this.userApi="Users";static#l=this.userEmployeeApi="Users/employee";static#u=this.userEmployeesApi="Users/employees";static#c=this.userRolesApi="UserRole";static#d=this.workItemApi="WorkItem";static#p=this.workOrderApi="WorkOrder";static#m=this.workOrderActivity=`${this.workOrderApi}/activity`;static#_=this.workOrderTypesApi=`${this.workOrderApi}/workOrderTypes`;static#h=this.toolsApi="Tools";static#f=this.toolParametersApi="Tools/parameters";static#g=this.toolOutputsApi="ToolOutputs";static#v=this.workStateApi="WorkState"}},5307:(x,p,r)=>{r.d(p,{O:()=>c});var a=r(529);var m=r(1571);class c{constructor(t){this.httpClient=t,this.api_url="https://management.gmcrefrigeracion.com/api/"}get(t){return this.httpClient.get(this.api_url+t)}post(t,d){return new a.WM({"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept, Authorization"}),this.httpClient.post(this.api_url+t,d)}put(t,d){return this.httpClient.put(this.api_url+t,d)}postFormData(t,d){const f=new a.WM({"Content-Type":"multipart/form-data"});return this.httpClient.post(this.api_url+t,d,{headers:f})}static#t=this.\u0275fac=function(d){return new(d||c)(m.LFG(a.eN))};static#e=this.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}},1066:(x,p,r)=>{r.d(p,{$:()=>u});var a=r(1571);class u{transform(c){if(!c)return"";switch(c.id){case 1:return"Abierta";case 2:return"En proceso";case 3:return"Cerrada";default:return""}}static#t=this.\u0275fac=function(F){return new(F||u)};static#e=this.\u0275pipe=a.Yjl({name:"workState",type:u,pure:!0})}},4899:(x,p,r)=>{r.r(p),r.d(p,{UsersManagementModule:()=>C});var a=r(6895),u=r(8869),m=r(7323),c=r(2771),F=r(1458),t=r(1571),d=r(5307),f=r(2687),E=r(2216);function I(i,s){1&i&&(t.TgZ(0,"th"),t._uU(1," Acciones "),t.qZA())}function R(i,s){if(1&i&&(t.TgZ(0,"button",7),t._UZ(1,"fa-icon",6),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("icon",e.faCircleInfo)}}const w=function(i){return["/tools-output",i]};function O(i,s){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,R,2,1,"button",5),t.TgZ(2,"a",4),t._UZ(3,"fa-icon",6),t.qZA()()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.actions),t.xp6(1),t.Q6J("routerLink",t.VKq(3,w,e.toolOutputId)),t.xp6(1),t.Q6J("icon",o.faCircleInfo)}}function k(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"a",4),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.YNc(9,O,4,5,"td",1),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("routerLink","/"+o.routeConstants.toolOutput+"/"+e.toolOutputId),t.xp6(1),t.hij(" ",e.toolOutputId," "),t.xp6(2),t.hij(" ",t.lcZ(6,5,e.outputDateTime)," "),t.xp6(3),t.hij(" ","open"==e.toolOutputState.toolOutputStateName.toLowerCase()?"Abierto":"Cerrado"," "),t.xp6(1),t.Q6J("ngIf",o.actions)}}function J(i,s){if(1&i&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),t._uU(4," Id "),t.qZA(),t.TgZ(5,"th"),t._uU(6," Fecha de salida "),t.qZA(),t.TgZ(7,"th"),t._uU(8," Estado "),t.qZA(),t.YNc(9,I,2,0,"th",1),t.qZA()(),t.TgZ(10,"tbody"),t.YNc(11,k,10,7,"tr",3),t.qZA()()),2&i){const e=t.oxw();t.xp6(9),t.Q6J("ngIf",e.actions),t.xp6(2),t.Q6J("ngForOf",e.outputsTool)}}function q(i,s){1&i&&(t.TgZ(0,"p"),t._uU(1," No se encontraron salidas de herramienta\n"),t.qZA())}class g{constructor(){this.faCircleInfo=f.DBf,this.routeConstants=c.p7}static#t=this.\u0275fac=function(e){return new(e||g)};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["output-tool-list"]],inputs:{outputsTool:"outputsTool",actions:"actions"},decls:2,vars:2,consts:[["class","table",4,"ngIf"],[4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[3,"routerLink"],["class","action-button",4,"ngIf"],[1,"text-primary",3,"icon"],[1,"action-button"]],template:function(e,o){1&e&&(t.YNc(0,J,12,2,"table",0),t.YNc(1,q,2,0,"p",1)),2&e&&(t.Q6J("ngIf",o.outputsTool&&o.outputsTool.length),t.xp6(1),t.Q6J("ngIf",o.outputsTool&&!o.outputsTool.length))},dependencies:[a.sg,a.O5,E.BN,u.rH,a.uU]})}function N(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.hij(" ",e.displayName," ")}}function M(i,s){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"p")(3,"b"),t._uU(4,"Nombre: "),t.qZA(),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"p")(8,"b"),t._uU(9,"Roles:"),t.qZA()(),t.TgZ(10,"ul"),t.YNc(11,N,2,1,"li",4),t.qZA()()()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.user.name,""),t.xp6(6),t.Q6J("ngForOf",e.user.userRoles)}}class v{static#t=this.\u0275fac=function(e){return new(e||v)};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["app-user-detail-view"]],inputs:{user:"user"},decls:1,vars:1,consts:[["class","row mt-3 g-2",4,"ngIf"],[1,"row","mt-3","g-2"],[1,"col-12"],[1,"col"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&t.YNc(0,M,12,2,"div",0),2&e&&t.Q6J("ngIf",o.user)},dependencies:[a.sg,a.O5]})}var l=r(433);function S(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"div",18)(2,"input",19),t.NdJ("change",function(n){t.CHM(e);const _=t.oxw(2);return t.KtG(_.setUserRoleValue(n))}),t.qZA(),t.TgZ(3,"label",20),t._uU(4),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("value",e.id)("id","userRoles-"+e.id)("checked",e.isActive),t.xp6(1),t.uIk("for","userRoles-"+e.id),t.xp6(1),t.hij(" ",e.displayName," ")}}function Y(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.editForm.valid&&n.onSubmit())}),t.TgZ(2,"div",3)(3,"div",4)(4,"label",5),t._uU(5,"Nombre"),t.qZA(),t._UZ(6,"input",6),t.qZA(),t.TgZ(7,"div",4)(8,"label",7),t._uU(9,"Email"),t.qZA(),t._UZ(10,"input",8),t.qZA(),t.TgZ(11,"div",4)(12,"label",9),t._uU(13,"Identificaci\xf3n"),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.TgZ(15,"div",11)(16,"p",12),t._uU(17,"Roles"),t.qZA(),t.TgZ(18,"ul",13),t.YNc(19,S,5,5,"li",14),t.qZA()()(),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelEditEvent.emit())}),t._uU(22,"Cancelar"),t.qZA(),t.TgZ(23,"button",17),t._uU(24,"Guardar"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.editForm),t.xp6(18),t.Q6J("ngForOf",e.userRoles),t.xp6(4),t.Q6J("disabled",!e.editForm.dirty&&e.editForm.valid)}}class U{constructor(s,e){this.fb=s,this.httpService=e,this.cancelEditEvent=new t.vpe,this.userUpdatedEvent=new t.vpe}ngOnChanges(){this.initform(),this.filterActiveUserRoles()}initform(){!this.user||(this.editForm=this.fb.group({name:[this.user.name,l.kI.required],email:[this.user.email],idCard:[this.user.idCard,l.kI.required],userRoles:[null]}))}filterActiveUserRoles(){!this.userRoles||!this.user||(this.userRoles=this.userRoles.map(s=>(s.isActive=!!this.user.userRoles.some(e=>e.id==s.id),s)),this.filterUserRoleFormValues())}setUserRoleValue(s){const e=this.userRoles.findIndex(o=>o.id==s.target.value);this.userRoles[e].isActive=s.target.checked,this.editForm.markAsDirty(),this.filterUserRoleFormValues()}filterUserRoleFormValues(){this.editForm?.patchValue({userRoles:this.userRoles.filter(s=>s.isActive).map(s=>s.id)})}onSubmit(){const s={company:this.user.company,email:this.editForm.controls.email.value,idCard:this.editForm.controls.idCard.value,name:this.editForm.controls.name.value,userId:this.user.userId,userRoles:this.editForm.controls.userRoles.value.map(e=>({id:e}))};this.httpService.put(m.G.userApi,s).subscribe(()=>this.userUpdatedEvent.emit())}static#t=this.\u0275fac=function(e){return new(e||U)(t.Y36(l.qu),t.Y36(d.O))};static#e=this.\u0275cmp=t.Xpm({type:U,selectors:[["app-user-detail-edit"]],inputs:{user:"user",userRoles:"userRoles"},outputs:{cancelEditEvent:"cancelEditEvent",userUpdatedEvent:"userUpdatedEvent"},features:[t.TTD],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"mt-3",3,"formGroup","ngSubmit"],[1,"row","g-2"],[1,"col-md-6"],["for","name",1,"form-label","fw-bold"],["type","text","id","name","formControlName","name",1,"form-control"],["for","email",1,"form-label","fw-bold"],["type","email","id","email","formControlName","email",1,"form-control"],["for","idCard",1,"form-label","fw-bold"],["type","text","id","idCard","formControlName","idCard",1,"form-control"],[1,"col-12"],[1,"fw-bold"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"form-actions","d-flex","justify-content-center","mt-3"],["type","button",1,"btn","btn-outline-danger","me-2",3,"click"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","id","checked","change"],[1,"form-check-label"]],template:function(e,o){1&e&&t.YNc(0,Y,25,3,"div",0),2&e&&t.Q6J("ngIf",o.user&&o.editForm)},dependencies:[a.sg,a.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}var Q=r(1066),L=r(2368);function D(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.setIsEditing(!0))}),t._uU(2,"Editar usuario"),t.qZA()()}}function G(i,s){if(1&i&&t._UZ(0,"app-user-detail-view",9),2&i){const e=t.oxw(2);t.Q6J("user",e.user)}}function j(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-user-detail-edit",10),t.NdJ("cancelEditEvent",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.setIsEditing(!1))})("userUpdatedEvent",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.userUpdated())}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("user",e.user)("userRoles",e.userRoles)}}function V(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"a",15),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"workState"),t.qZA()()),2&i){const e=s.$implicit,o=t.oxw(3);t.xp6(2),t.Q6J("routerLink","/"+o.routeConstants.workOrderPath+"/"+e.workOrderId),t.xp6(1),t.hij(" ",e.workOrderId," "),t.xp6(2),t.hij(" ",t.lcZ(6,4,e.createdOn)," "),t.xp6(3),t.hij(" ",t.lcZ(9,6,e.workState)," ")}}function $(i,s){if(1&i&&(t.TgZ(0,"div",11)(1,"h4",12),t._uU(2,"Trabajos asignados"),t.qZA(),t.TgZ(3,"table",13)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Id"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Fecha de creaci\xf3n"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Estado"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,V,10,8,"tr",14),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(13),t.Q6J("ngForOf",e.user.assignedWorkOrders)}}function H(i,s){if(1&i&&(t.TgZ(0,"div",11)(1,"h4",12),t._uU(2,"Salidas de herramienta"),t.qZA(),t._UZ(3,"output-tool-list",16),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("outputsTool",e.user.outputsTool)}}function K(i,s){if(1&i&&(t.TgZ(0,"div",1)(1,"h2",2),t._uU(2,"Detalle de usuario"),t.qZA(),t.YNc(3,D,3,0,"div",3),t.ALo(4,"userRoles"),t.YNc(5,G,1,1,"app-user-detail-view",4),t.YNc(6,j,1,2,"app-user-detail-edit",5),t.YNc(7,$,14,1,"div",6),t.YNc(8,H,4,1,"div",6),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,5,e.userRolesEnum.UsersAdmin)&&!e.isEditing),t.xp6(2),t.Q6J("ngIf",!e.isEditing),t.xp6(1),t.Q6J("ngIf",e.isEditing),t.xp6(1),t.Q6J("ngIf",null==e.user.assignedWorkOrders?null:e.user.assignedWorkOrders.length),t.xp6(1),t.Q6J("ngIf",e.user.outputsTool&&e.user.outputsTool.length)}}class A{constructor(s,e){this.route=s,this.httpService=e,this.isEditing=!1,this.routeConstants=c.p7,this.userRolesEnum=F.v}ngOnInit(){this.getUser(),this.getUserRoles()}getUser(){const s=this.route.snapshot.paramMap.get("id");this.httpService.get(`${m.G.userEmployeeApi}/${s}`).subscribe(e=>this.user=e)}getUserRoles(){this.httpService.get(`${m.G.userRolesApi}`).subscribe(s=>this.userRoles=s)}setIsEditing(s){this.isEditing=s}userUpdated(){this.setIsEditing(!1),this.getUser()}static#t=this.\u0275fac=function(e){return new(e||A)(t.Y36(u.gz),t.Y36(d.O))};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["app-users-management-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"text-center","mt-3"],["class","d-flex justify-content-center",4,"ngIf"],[3,"user",4,"ngIf"],[3,"user","userRoles","cancelEditEvent","userUpdatedEvent",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"user"],[3,"user","userRoles","cancelEditEvent","userUpdatedEvent"],[1,"row","mt-3"],[1,"text-center","mb-3"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"outputsTool"]],template:function(e,o){1&e&&t.YNc(0,K,9,7,"div",0),2&e&&t.Q6J("ngIf",o.user)},dependencies:[a.sg,a.O5,u.rH,g,v,U,a.uU,Q.$,L.Y]})}var B=r(5698),y=r(9453),W=r(3143);function z(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"div",21)(2,"input",22),t.NdJ("change",function(n){t.CHM(e);const _=t.oxw(2);return t.KtG(_.setUserRoleValue(n))}),t.qZA(),t.TgZ(3,"label",23),t._uU(4),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(2),t.Q6J("value",e.id)("id","userRoles-"+e.id),t.xp6(1),t.uIk("for","userRoles-"+e.id),t.xp6(1),t.hij(" ",e.displayName," ")}}function P(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addUserForm.valid&&n.onSubmit())}),t.TgZ(1,"div",10)(2,"div",11)(3,"label",12),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",13),t.qZA(),t.TgZ(6,"div",11)(7,"label",14),t._uU(8,"Email"),t.qZA(),t._UZ(9,"input",15),t.qZA(),t.TgZ(10,"div",11)(11,"label",16),t._uU(12,"Identificaci\xf3n"),t.qZA(),t._UZ(13,"input",17),t.qZA(),t.TgZ(14,"div",18)(15,"p"),t._uU(16,"Roles"),t.qZA(),t.TgZ(17,"ul",19),t.YNc(18,z,5,4,"li",20),t.qZA()()()()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.addUserForm),t.xp6(18),t.Q6J("ngForOf",e.userRoles)}}class T{constructor(s,e,o,n){this.activeModal=s,this.fb=e,this.httpService=o,this.accoutService=n,this.UserAddedEvent=new t.vpe,this.accoutService.currentAccount$.pipe((0,B.q)(1)).subscribe(_=>this.user=_)}ngOnInit(){this.initForm()}initForm(){this.addUserForm=this.fb.group({name:["",l.kI.required],email:[null],idCard:["",[l.kI.required,this.validateId]],userRoles:[null,this.rolesLengthValidator]})}onSubmit(){const s={companyId:this.user.companyId,email:this.addUserForm.controls.email.value,idCard:parseInt(this.addUserForm.controls.idCard.value.replaceAll(".","")),name:this.addUserForm.controls.name.value,userRoles:this.addUserForm.controls.userRoles.value.map(e=>({id:e}))};this.httpService.post(m.G.addUserApi,s).subscribe(e=>{this.activeModal.close(!0)})}setUserRoleValue(s){const e=this.userRoles.findIndex(o=>o.id==s.target.value);this.userRoles[e].isActive=s.target.checked,this.filterUserRoleFormValues()}filterUserRoleFormValues(){this.addUserForm?.patchValue({userRoles:this.userRoles.filter(s=>s.isActive).map(s=>s.id)})}rolesLengthValidator(s){return s.value&&s.value.length?null:{invalidCustomValue:!0}}validateId(s){return s.value.match(/[^\d\.]/g)?{invalidIdCard:!0}:null}static#t=this.\u0275fac=function(e){return new(e||T)(t.Y36(y.Kz),t.Y36(l.qu),t.Y36(d.O),t.Y36(W.B))};static#e=this.\u0275cmp=t.Xpm({type:T,selectors:[["app-add-user-modal"]],inputs:{userRoles:"userRoles"},outputs:{UserAddedEvent:"UserAddedEvent"},decls:13,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-primary",3,"disabled","click"],[3,"formGroup","ngSubmit"],[1,"row","g-2"],[1,"col-md-6"],["for","name",1,"form-label"],["type","text","formControlName","name",1,"form-control"],["for","email",1,"form-label"],["type","email","formControlName","email",1,"form-control"],["for","idCard",1,"form-label"],["type","text","formControlName","idCard",1,"form-control"],[1,"col-12"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","id","change"],[1,"form-check-label"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nuevo Usuario"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.activeModal.close(!1)}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,P,19,2,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.activeModal.dismiss()}),t._uU(10,"Cancelar"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.onSubmit()}),t._uU(12,"Enviar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",o.addUserForm),t.xp6(4),t.Q6J("disabled",!o.addUserForm.valid))},dependencies:[a.sg,a.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}class h{constructor(s){this.httpService=s}getUserRoles(){return this.httpService.get(m.G.userRolesApi)}static#t=this.\u0275fac=function(e){return new(e||h)(t.LFG(d.O))};static#e=this.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}var X=r(8073),tt=r(5090);class Z{constructor(s,e,o,n){this.modalService=s,this.httpService=e,this.router=o,this.usersService=n}ngOnInit(){this.getUsersList(),this.getUserRoles()}onOpenAddUserModal(){this.modalRef=this.modalService.open(T,{size:"lg"}),this.modalRef.componentInstance.userRoles=this.userRoles,this.modalRef.closed.subscribe(s=>s&&this.getUsersList())}getUsersList(){this.httpService.get("Users/employees").subscribe(s=>this.users=s)}onUserClicked(s){this.router.navigateByUrl(`/${c.p7.usersManagement}/${s.id}`)}getUserRoles(){this.usersService.getUserRoles().subscribe(s=>this.userRoles=s)}static#t=this.\u0275fac=function(e){return new(e||Z)(t.Y36(y.FF),t.Y36(d.O),t.Y36(u.F0),t.Y36(h))};static#e=this.\u0275cmp=t.Xpm({type:Z,selectors:[["app-users-management"]],decls:10,vars:4,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[3,"items","rowClickedEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Administraci\xf3n de usuarios"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return o.onOpenAddUserModal()}),t._uU(5,"Agregar usuario"),t.qZA()(),t.TgZ(6,"h4",1),t._uU(7,"Lista de usuarios"),t.qZA(),t.TgZ(8,"app-items-list",3),t.NdJ("rowClickedEvent",function(_){return o.onUserClicked(_)}),t.ALo(9,"toItemList"),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("items",t.xi3(9,1,o.users,"user")))},dependencies:[X.H,tt.R]})}const et=[{path:"",component:Z},{path:":id",component:A}];class b{static#t=this.\u0275fac=function(e){return new(e||b)};static#e=this.\u0275mod=t.oAB({type:b});static#s=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(et),u.Bz]})}var st=r(6619),it=r(9127);class C{static#t=this.\u0275fac=function(e){return new(e||C)};static#e=this.\u0275mod=t.oAB({type:C});static#s=this.\u0275inj=t.cJS({imports:[a.ez,b,st.m,it.I]})}}}]);