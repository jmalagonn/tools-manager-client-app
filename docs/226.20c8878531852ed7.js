"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[226],{7226:(F,h,i)=>{i.r(h),i.d(h,{UsersManagementModule:()=>p});var c=i(6895),g=i(8184),t=i(1571),r=i(433),b=i(18),U=i(5307);function v(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addUserForm.valid&&a.onSubmit())}),t.TgZ(1,"div",9)(2,"label",10),t._uU(3,"Nombre"),t.qZA(),t._UZ(4,"input",11),t.qZA(),t.TgZ(5,"button",12),t._uU(6,"Enviar"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.addUserForm),t.xp6(5),t.Q6J("disabled",!e.addUserForm.valid)}}class d{constructor(s,e,n){this.bsModalRef=s,this.fb=e,this.httpService=n,this.UserAddedEvent=new t.vpe}ngOnInit(){this.initForm()}initForm(){this.addUserForm=this.fb.group({name:["",r.kI.required]})}onSubmit(){this.httpService.post("Users/addEmployee",{name:this.addUserForm?.controls.name.value}).subscribe(e=>{this.bsModalRef.hide(),this.bsModalRef.onHide.emit(e)})}static#t=this.\u0275fac=function(e){return new(e||d)(t.Y36(b.UZ),t.Y36(r.qu),t.Y36(U.O))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-add-user-modal"]],outputs:{UserAddedEvent:"UserAddedEvent"},decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","userName","formControlName","name",1,"form-control"],[1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nuevo Usuario"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.bsModalRef.hide()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,v,7,2,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.bsModalRef.hide()}),t._uU(10,"Cerrar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.addUserForm))},dependencies:[c.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]})}var f=i(2687),Z=i(2216);function A(o,s){1&o&&(t.TgZ(0,"p",5),t._uU(1,"No se han registrado usuarios a\xfan."),t.qZA())}function _(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"fa-icon",8)(5,"fa-icon",8)(6,"fa-icon",9),t.qZA()()),2&o){const e=s.$implicit,n=t.oxw(3);t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("icon",n.faCircleInfo),t.xp6(1),t.Q6J("icon",n.faPen),t.xp6(1),t.Q6J("icon",n.faTrash)}}function T(o,s){if(1&o&&(t.TgZ(0,"table",6)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Nombre"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acciones"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,_,7,4,"tr",7),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.users)}}function x(o,s){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,A,2,0,"p",3),t.YNc(3,T,9,1,"table",4),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.users.length),t.xp6(1),t.Q6J("ngIf",e.users.length)}}class l{constructor(){this.faPen=f.IwR,this.faTrash=f.$aW,this.faCircleInfo=f.DBf}static#t=this.\u0275fac=function(e){return new(e||l)};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-users-list"]],inputs:{users:"users"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col"],["class","text-center",4,"ngIf"],["class","table",4,"ngIf"],[1,"text-center"],[1,"table"],[4,"ngFor","ngForOf"],["role","button",1,"me-3","text-primary",3,"icon"],["role","button",1,"me-3","text-danger",3,"icon"]],template:function(e,n){1&e&&t.YNc(0,x,4,2,"div",0),2&e&&t.Q6J("ngIf",n.users)},dependencies:[c.sg,c.O5,Z.BN]})}class u{constructor(s,e){this.modalService=s,this.httpService=e}ngOnInit(){this.getUsersList()}onOpenAddUserModal(){this.modalRef=this.modalService.show(d),this.modalRef?.onHide&&this.modalRef.onHide.subscribe(s=>{!s.name||this.getUsersList()})}getUsersList(){this.httpService.get("Users/employees").subscribe(s=>this.users=s)}static#t=this.\u0275fac=function(e){return new(e||u)(t.Y36(b.tT),t.Y36(U.O))};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-users-management"]],decls:9,vars:1,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[3,"users"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Administraci\xf3n de usuarios"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return n.onOpenAddUserModal()}),t._uU(5,"Agregar usuario"),t.qZA()(),t.TgZ(6,"h4",1),t._uU(7,"Lista de usuarios"),t.qZA(),t._UZ(8,"app-users-list",3),t.qZA()),2&e&&(t.xp6(8),t.Q6J("users",n.users))},dependencies:[l]})}const C=[{path:"",component:u}];class m{static#t=this.\u0275fac=function(e){return new(e||m)};static#e=this.\u0275mod=t.oAB({type:m});static#s=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(C),g.Bz]})}var y=i(4466);class p{static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275mod=t.oAB({type:p});static#s=this.\u0275inj=t.cJS({imports:[c.ez,m,y.m]})}}}]);