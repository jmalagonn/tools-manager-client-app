"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[420],{4420:(Bt,j,m)=>{m.r(j),m.d(j,{CustomersModule:()=>G});var c=m(6895),d=m(8869),a=m(433),t=m(1571),p=m(9453),l=m(6858),u=m(2687),_=m(3131),H=m(7185),v=m(2216);function z(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"li",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.selectItemEvent.emit(s))}),t._uU(1),t.qZA()}if(2&r){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function X(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addNewItemEvent.emit())}),t.TgZ(1,"button",11),t._uU(2),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(2),t.Oqu(e.showAddNewItemButtonText?e.showAddNewItemButtonText:"A\xf1adir nuevo elemento")}}function V(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",4)(1,"input",5),t.NdJ("input",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.filterParameters(i))}),t.qZA(),t.TgZ(2,"ul",6),t.YNc(3,z,2,1,"li",7),t.qZA(),t.YNc(4,X,3,1,"div",8),t.qZA()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.filteredOptions),t.xp6(1),t.Q6J("ngIf",e.showAddNewItemButton)}}class w{constructor(){this.componentId=Math.random().toString(36).slice(-6),this.showDropdownList=!1,this.showAddNewItemButton=!1,this.selectItemEvent=new t.vpe,this.addNewItemEvent=new t.vpe}ngOnChanges(){this.options&&(this.filteredOptions=this.options)}filterParameters(o){this.filteredOptions=!o.target.value||o.target.value.length<2?this.options:this.options?.filter(e=>e.name.toLocaleLowerCase().includes(o.target.value.toLocaleLowerCase()))}toggleShowDropdownList(){this.showDropdownList=!this.showDropdownList}static#t=this.\u0275fac=function(e){return new(e||w)};static#e=this.\u0275cmp=t.Xpm({type:w,selectors:[["app-dropdown-input"]],inputs:{label:"label",buttonText:"buttonText",options:"options",showAddNewItemButton:"showAddNewItemButton",showAddNewItemButtonText:"showAddNewItemButtonText"},outputs:{selectItemEvent:"selectItemEvent",addNewItemEvent:"addNewItemEvent"},features:[t.TTD],decls:6,vars:4,consts:[[1,"dropdown-intput"],[1,"form-label"],["type","button",1,"form-control",3,"click"],["class","dropdown-input--options",4,"ngIf"],[1,"dropdown-input--options"],["type","text","placeholder","Buscar par\xe1metro",1,"form-control","form-control-sm",3,"input"],[1,"list-group","list-group-flush"],["class","list-group-item","role","button",3,"click",4,"ngFor","ngForOf"],["class","d-flex justify-content-center mt-1",3,"click",4,"ngIf"],["role","button",1,"list-group-item",3,"click"],[1,"d-flex","justify-content-center","mt-1",3,"click"],[1,"btn","btn-sm","btn-outline-primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.toggleShowDropdownList()}),t._uU(4),t.qZA(),t.YNc(5,V,5,2,"div",3),t.qZA()),2&e&&(t.xp6(1),t.uIk("for","dropdown-input-"+n.componentId),t.xp6(1),t.Oqu(n.label),t.xp6(2),t.hij(" ",n.buttonText," "),t.xp6(1),t.Q6J("ngIf",n.showDropdownList))},dependencies:[c.sg,c.O5],styles:[".dropdown-input--options[_ngcontent-%COMP%]{padding:.2rem;border:1px solid #ced4da;border-radius:.375rem}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.25rem}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:.5rem;font-size:.8rem}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#c8c8c833}"]})}var K=m(1875),R=m(7281);class k{constructor(o){this.httpService=o,this.faCheck=u.LEp,this.faX=u.EOp,this.cancelAddNewParameterEvent=new t.vpe}ngOnInit(){this.getMeasurementUnits()}getMeasurementUnits(){this.httpService.get(_.G8.measurementUnitsApi).subscribe(o=>this.measurementUnits=o)}static#t=this.\u0275fac=function(e){return new(e||k)(t.Y36(l.O))};static#e=this.\u0275cmp=t.Xpm({type:k,selectors:[["app-add-new-equipment-parameter"]],outputs:{cancelAddNewParameterEvent:"cancelAddNewParameterEvent"},decls:20,vars:6,consts:[[1,"row","g-2"],[1,"col-lg-4"],[1,"form-label"],["type","text",1,"form-control"],[3,"options"],[1,"col-lg-2"],["type","number",1,"form-control"],[1,"col-lg-2","action-buttons"],[1,"btn","btn-sm","btn-outline-success","action-buttons--button","me-2"],[3,"icon"],[1,"btn","btn-sm","btn-outline-danger","action-buttons--button",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form")(1,"div",0)(2,"div",1)(3,"label",2),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div",1)(7,"label",2),t._uU(8,"Magnitud"),t.qZA(),t._UZ(9,"app-dropdown",4),t.ALo(10,"toDropdownItem"),t.qZA(),t.TgZ(11,"div",5)(12,"label",2),t._uU(13,"Valor"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"div",7)(16,"button",8),t._UZ(17,"fa-icon",9),t.qZA(),t.TgZ(18,"button",10),t.NdJ("click",function(){return n.cancelAddNewParameterEvent.emit()}),t._UZ(19,"fa-icon",9),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("options",t.xi3(10,3,n.measurementUnits,"measurementUnits")),t.xp6(8),t.Q6J("icon",n.faCheck),t.xp6(2),t.Q6J("icon",n.faX))},dependencies:[v.BN,a._Y,a.JL,a.F,K.J,R.s],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end;padding-top:35px}.action-buttons--button[_ngcontent-%COMP%]{width:2rem;height:2rem}"]})}var f=m(5090);function tt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-dropdown-input",3),t.NdJ("selectItemEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.onSelectItem(i))})("addNewItemEvent",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setAddingNewParameter(!0))}),t.ALo(1,"toItemList"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("label","A\xf1adir par\xe1metro")("buttonText","Seleccionar par\xe1metro")("options",t.xi3(1,5,e.equipmentParameters,"equipmentParameter"))("showAddNewItemButton",!0)("showAddNewItemButtonText","A\xf1adir nuevo par\xe1metro")}}function et(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-add-new-equipment-parameter",4),t.NdJ("cancelAddNewParameterEvent",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancelAddParameterEvent.emit())}),t.qZA()}}function ot(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2,"A\xf1adir par\xe1metro"),t.qZA(),t.TgZ(3,"div",5)(4,"div",6),t._uU(5),t.qZA(),t.TgZ(6,"div",7)(7,"input",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.parameterValue=i)}),t.qZA()(),t.TgZ(8,"div",9)(9,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addEquipmentParameter())}),t._UZ(10,"fa-icon",11),t.qZA(),t.TgZ(11,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cancelAddParameterEvent.emit())}),t._UZ(12,"fa-icon",11),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.hij(" ",e.selectedItem.name+" | "+e.selectedItem.measurementUnitSymbol," "),t.xp6(2),t.Q6J("ngModel",e.parameterValue),t.xp6(3),t.Q6J("icon",e.faCheck),t.xp6(2),t.Q6J("icon",e.faX)}}class I{constructor(o,e){this.httpService=o,this.toastrService=e,this.selectingParameter=!0,this.faCheck=u.LEp,this.faX=u.EOp,this.addingNewParameter=!1,this.cancelAddParameterEvent=new t.vpe,this.addParameterEvent=new t.vpe}ngOnInit(){this.getEquipmentParameters()}getEquipmentParameters(){this.httpService.get(_.G8.equipmentParametersApi).subscribe(o=>this.equipmentParameters=o)}onSelectItem(o){this.selectedItem=this.equipmentParameters?.find(e=>e.equipmentParameterId==o.id),this.setSelectingParameter(!1)}setSelectingParameter(o){this.selectingParameter=o}setAddingNewParameter(o){this.setSelectingParameter(!1),this.addingNewParameter=o}addEquipmentParameter(){if(null==this.parameterValue)return void this.toastrService.error(_.aX.equipmentParameterWrongValue);const o={...this.selectedItem,parameterValue:this.parameterValue};this.addParameterEvent.emit(o)}static#t=this.\u0275fac=function(e){return new(e||I)(t.Y36(l.O),t.Y36(H._W))};static#e=this.\u0275cmp=t.Xpm({type:I,selectors:[["app-add-equipment-parameter"]],outputs:{cancelAddParameterEvent:"cancelAddParameterEvent",addParameterEvent:"addParameterEvent"},decls:3,vars:3,consts:[[3,"label","buttonText","options","showAddNewItemButton","showAddNewItemButtonText","selectItemEvent","addNewItemEvent",4,"ngIf"],[3,"cancelAddNewParameterEvent",4,"ngIf"],[4,"ngIf"],[3,"label","buttonText","options","showAddNewItemButton","showAddNewItemButtonText","selectItemEvent","addNewItemEvent"],[3,"cancelAddNewParameterEvent"],[1,"row","g-1"],[1,"col-6"],[1,"col-4"],["type","number","placeholder","Valor",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-2","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-outline-success","action-button","me-2",3,"click"],[3,"icon"],[1,"btn","btn-sm","btn-outline-danger","action-button",3,"click"]],template:function(e,n){1&e&&(t.YNc(0,tt,2,8,"app-dropdown-input",0),t.YNc(1,et,1,0,"app-add-new-equipment-parameter",1),t.YNc(2,ot,13,4,"div",2)),2&e&&(t.Q6J("ngIf",n.selectingParameter),t.xp6(1),t.Q6J("ngIf",n.addingNewParameter),t.xp6(1),t.Q6J("ngIf",!n.selectingParameter&&!n.addingNewParameter&&n.selectedItem))},dependencies:[c.O5,v.BN,a.Fj,a.wV,a.JJ,a.On,w,k,f.R],styles:[".action-button[_ngcontent-%COMP%]{width:2rem;height:2rem}"]})}function nt(r,o){if(1&r&&(t.TgZ(0,"li",23)(1,"p"),t._uU(2),t.qZA()()),2&r){const e=o.$implicit;t.xp6(2),t.lnq("",e.name,": ",e.parameterValue," ",e.measurementUnitSymbol,"")}}function it(r,o){if(1&r&&(t.TgZ(0,"ul",21),t.YNc(1,nt,3,3,"li",22),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.equipmentParameters)}}function rt(r,o){1&r&&(t.TgZ(0,"p"),t._uU(1,"A\xfan no se ha agregado ning\xfan par\xe1metro."),t.qZA())}function at(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAddNewParameter(!0))}),t._uU(2," Agregar nuevo par\xe1metro "),t.qZA()()}}function st(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-add-equipment-parameter",26),t.NdJ("cancelAddParameterEvent",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAddNewParameter(!1))})("addParameterEvent",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onAddEquipmentParameter(i))}),t.qZA()}}function ct(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addEquipmentForm.valid&&i.onSubmit())}),t.TgZ(1,"div",10)(2,"div",11)(3,"label",12),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",13),t.qZA(),t.TgZ(6,"div",11)(7,"label",14),t._uU(8,"Descripci\xf3n del equipo"),t.qZA(),t._UZ(9,"textarea",15),t.qZA()(),t.TgZ(10,"div",16)(11,"h6"),t._uU(12,"Par\xe1metros t\xe9cnicos"),t.qZA(),t.YNc(13,it,2,1,"ul",17),t.YNc(14,rt,2,0,"p",18),t.YNc(15,at,3,0,"div",19),t.YNc(16,st,1,0,"app-add-equipment-parameter",20),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.addEquipmentForm),t.xp6(13),t.Q6J("ngIf",e.equipmentParameters.length),t.xp6(1),t.Q6J("ngIf",!e.equipmentParameters.length),t.xp6(1),t.Q6J("ngIf",!e.addNewParameter),t.xp6(1),t.Q6J("ngIf",e.addNewParameter)}}class Z{constructor(o,e,n){this.activeModal=o,this.fb=e,this.httpService=n,this.addNewParameter=!1,this.equipmentParameters=[]}ngOnInit(){this.initForm()}initForm(){this.addEquipmentForm=this.fb.group({equipmentName:["",a.kI.required]})}onSubmit(){this.httpService.post("Equipment",{equipmentName:this.addEquipmentForm.controls.equipmentName.value,branchId:this.branch.branchId}).subscribe(e=>{this.activeModal.close(e)})}setAddNewParameter(o){this.addNewParameter=o}onAddEquipmentParameter(o,e=!1){return this.setAddNewParameter(!1),e?this.addNewEquipmentParameter(o):this.addEquipmentParameter(o)}addEquipmentParameter(o){this.equipmentParameters.push(o)}addNewEquipmentParameter(o){}static#t=this.\u0275fac=function(e){return new(e||Z)(t.Y36(p.Kz),t.Y36(a.qu),t.Y36(l.O))};static#e=this.\u0275cmp=t.Xpm({type:Z,selectors:[["app-add-equipment-modal"]],inputs:{branch:"branch"},decls:13,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"btn","btn-outline-primary",3,"disabled","click"],[3,"formGroup","ngSubmit"],[1,"row","g-2"],[1,"col-12"],["for","equipmentName",1,"form-label"],["type","text","id","equipmentName","formControlName","equipmentName",1,"form-control"],["for","equipmentDescription",1,"form-label"],["id","equipmentDescription",1,"form-control"],[1,"row","mt-2"],["class","list-group list-group-flush",4,"ngIf"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[3,"cancelAddParameterEvent","addParameterEvent",4,"ngIf"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],[3,"cancelAddParameterEvent","addParameterEvent"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nuevo equipo"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.close()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,ct,17,5,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.activeModal.close()}),t._uU(10,"Cerrar"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.onSubmit()}),t._uU(12,"Guardar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.addEquipmentForm),t.xp6(4),t.Q6J("disabled",!n.addEquipmentForm.valid))},dependencies:[c.sg,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,I]})}function mt(r,o){if(1&r&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function dt(r,o){if(1&r&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.equipment.equipmentName," ")}}function lt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"tr",4),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.onRowClicked(s))}),t.YNc(1,dt,2,1,"td",5),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()}if(2&r){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.equipment),t.xp6(2),t.hij(" ",e.workItemType.workItemTypeName," "),t.xp6(2),t.hij(" ",e.workItemDescription?e.workItemDescription:"No se agreg\xf3 descripci\xf3n."," ")}}function pt(r,o){if(1&r&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr"),t.YNc(3,mt,2,1,"th",2),t.qZA()(),t.TgZ(4,"tbody"),t.YNc(5,lt,6,3,"tr",3),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.columns),t.xp6(2),t.Q6J("ngForOf",e.workItems)}}class g{constructor(){this.columns=["Equipo","Tipo de mantenimiento","Descripci\xf3n"],this.rowClickedEvent=new t.vpe}onRowClicked(o){this.rowClickedEvent.emit(o)}static#t=this.\u0275fac=function(e){return new(e||g)};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["app-work-items-list"]],inputs:{workItems:"workItems",columns:"columns"},outputs:{rowClickedEvent:"rowClickedEvent"},decls:1,vars:1,consts:[["class","table table-hover",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["role","button",3,"click",4,"ngFor","ngForOf"],["role","button",3,"click"],[4,"ngIf"]],template:function(e,n){1&e&&t.YNc(0,pt,6,2,"table",0),2&e&&t.Q6J("ngIf",n.workItems&&n.workItems.length)},dependencies:[c.sg,c.O5]})}function ut(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"p",4)(3,"b"),t._uU(4,"Cliente:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"b"),t._uU(8,"Sucursal:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"form",5)(11,"div",6),t._UZ(12,"textarea",7),t.TgZ(13,"label",8),t._uU(14,"Descripci\xf3n general"),t.qZA()()(),t.TgZ(15,"div",9)(16,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setAddingItem(!0))}),t._UZ(17,"fa-icon",11),t._uU(18," A\xf1adir \xedtem "),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.hij(" ",e.branch.customerName,""),t.xp6(4),t.hij(" ",e.branch.branchName,""),t.xp6(1),t.Q6J("formGroup",e.workOrderForm),t.xp6(6),t.Q6J("disabled",e.addingItem),t.xp6(1),t.Q6J("icon",e.faPlus)}}function _t(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-dropdown",13),t.NdJ("onSelectOptionEvent",function(i){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSelectItem(i,2))}),t.ALo(1,"toDropdownItem"),t.qZA()}if(2&r){const e=t.oxw(2);t.Q6J("label","Tipo de trabajo")("options",t.lcZ(1,2,e.workItemTypes))}}function ht(r,o){if(1&r&&(t.TgZ(0,"form",20)(1,"div",6),t._UZ(2,"textarea",21),t.TgZ(3,"label",22),t._uU(4,"Descripci\xf3n del trabajo"),t.qZA()()()),2&r){const e=t.oxw(2);t.Q6J("formGroup",e.workItemForm)}}function gt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",3)(2,"app-dropdown",13),t.NdJ("onSelectOptionEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.onSelectItem(i,1))}),t.ALo(3,"toDropdownItem"),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,_t,2,4,"app-dropdown",14),t.qZA(),t.TgZ(6,"div",15),t.YNc(7,ht,5,1,"form",16),t.qZA(),t.TgZ(8,"div",17)(9,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSaveWorkItem())}),t._UZ(10,"fa-icon",11),t._uU(11," Guardar "),t.qZA(),t.TgZ(12,"button",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setAddingItem(!1))}),t._UZ(13,"fa-icon",11),t._uU(14," Cancelar "),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("label","Seleccionar equipo")("options",t.xi3(3,7,e.branch.equipment,"equipment")),t.xp6(3),t.Q6J("ngIf",e.workItemTypes),t.xp6(2),t.Q6J("ngIf",e.workItemForm),t.xp6(2),t.Q6J("disabled",e.workItemForm.invalid),t.xp6(1),t.Q6J("icon",e.faSave),t.xp6(3),t.Q6J("icon",e.faTrash)}}function ft(r,o){if(1&r&&(t.TgZ(0,"div",12)(1,"div",3),t._UZ(2,"app-work-items-list",23),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("workItems",e.tempWorkItems)}}class b{constructor(o,e){this.httpService=o,this.fb=e,this.faPlus=u.r8p,this.faSave=u.r6l,this.faTrash=u.$aW,this.addingItem=!1,this.tempWorkItems=[],this.woEvent=new t.vpe}ngOnInit(){this.initWorkOrderForm(),this.getWorkItemTypes()}getWorkItemTypes(){this.httpService.get("WorkItem/workItemTypes").subscribe(o=>this.workItemTypes=o)}initWorkOrderForm(){this.workOrderForm=this.fb.group({workOrderDescription:[""]})}initWorkItemForm(){this.workItemForm=this.fb.group({equipmentId:[null,a.kI.required],workItemDescription:[""],workItemTypeId:[null,a.kI.required]})}setAddingItem(o){this.addingItem=o,this.addingItem&&this.initWorkItemForm()}onSelectItem(o,e){this.workItemForm?.patchValue(1==e?{equipmentId:o.id}:{workItemTypeId:o.id})}onSaveWorkItem(){this.tempWorkItems.push({createdOn:(new Date).toISOString(),equipment:this.branch.equipment.find(o=>o.equipmentId==this.workItemForm.controls.equipmentId.value),workItemDescription:this.workItemForm.controls.workItemDescription.value,workItemId:Date.now(),workItemType:this.workItemTypes.find(o=>o.workItemTypeId==this.workItemForm.controls.workItemTypeId.value)}),this.setAddingItem(!1)}emitWOInfo(){const o={workOrderId:Date.now(),workOrderDescription:this.workOrderForm?.controls.workOrderDescription.value,customerId:this.branch.customerId,customerName:this.branch.customerName,branchId:this.branch.branchId,branchName:this.branch.branchName,workItems:this.tempWorkItems.map(e=>({equipment:e.equipment,workItemDescription:e.workItemDescription,workItemType:e.workItemType}))};this.woEvent.emit(o)}static#t=this.\u0275fac=function(e){return new(e||b)(t.Y36(l.O),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:b,selectors:[["app-add-work-order-form"]],inputs:{branch:"branch"},outputs:{woEvent:"woEvent"},decls:3,vars:3,consts:[["class","row",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row"],[1,"col"],[1,"mb-1"],[1,"mb-3",3,"formGroup"],[1,"form-floating"],["placeholder","Descripci\xf3n general","id","workOrderDescription","formControlName","workOrderDescription",1,"form-control"],["for","workOrderDescription"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"disabled","click"],[1,"me-1",3,"icon"],[1,"row","mt-3"],[3,"label","options","onSelectOptionEvent"],[3,"label","options","onSelectOptionEvent",4,"ngIf"],[1,"col-12","mt-2"],[3,"formGroup",4,"ngIf"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","me-2",3,"disabled","click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"formGroup"],["placeholder","Descripci\xf3n del trabajo","id","workItemDescription","formControlName","workItemDescription",1,"form-control"],["for","workItemDescription"],[3,"workItems"]],template:function(e,n){1&e&&(t.YNc(0,ut,19,5,"div",0),t.YNc(1,gt,15,10,"div",1),t.YNc(2,ft,3,1,"div",1)),2&e&&(t.Q6J("ngIf",n.branch),t.xp6(1),t.Q6J("ngIf",n.branch&&n.addingItem),t.xp6(1),t.Q6J("ngIf",n.tempWorkItems.length))},dependencies:[c.O5,v.BN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,K.J,g,R.s]})}class T{constructor(o,e,n){this.activeModal=o,this.toastr=e,this.httpService=n}onSaveWO(o){o.workItems.length?this.httpService.post("WorkOrder",{workOrderDescription:o.workOrderDescription,customerId:o.customerId,branchId:o.branchId,workItems:o.workItems}).subscribe(n=>this.activeModal.close(n)):this.toastr.error("Debe agregar al menos un \xedtem de trabajo.")}static#t=this.\u0275fac=function(e){return new(e||T)(t.Y36(p.Kz),t.Y36(H._W),t.Y36(l.O))};static#e=this.\u0275cmp=t.Xpm({type:T,selectors:[["app-add-work-order-modal"]],viewQuery:function(e,n){if(1&e&&t.Gf(b,5),2&e){let i;t.iGM(i=t.CRH())&&(n.addWorkOrderForm=i.first)}},inputs:{branch:"branch"},decls:13,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"branch","woEvent"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Nueva Orden de trabajo"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.close()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4)(7,"app-add-work-order-form",5),t.NdJ("woEvent",function(s){return n.onSaveWO(s)}),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.addWorkOrderForm.emitWOInfo()}),t._uU(10,"Guardar OT"),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return n.activeModal.close()}),t._uU(12,"Cerrar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("branch",n.branch))},dependencies:[b]})}var C=m(8073);function bt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"tr",4),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.onRowClicked(s))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t._UZ(6,"td"),t.qZA()}if(2&r){const e=o.$implicit;t.xp6(2),t.hij(" ",e.workOrderId," "),t.xp6(2),t.hij(" ",t.lcZ(5,2,e.createdOn)," ")}}function vt(r,o){if(1&r&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),t._uU(4," Id "),t.qZA(),t.TgZ(5,"th"),t._uU(6," Fecha de creaci\xf3n "),t.qZA(),t.TgZ(7,"th"),t._uU(8," Estado "),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,bt,7,4,"tr",3),t.qZA()()),2&r){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.items)}}function wt(r,o){1&r&&(t.TgZ(0,"p",5),t._uU(1," No se encontraron elementos\n"),t.qZA())}class A{constructor(o){this.router=o}onRowClicked(o){this.router.navigateByUrl(`customers/work-order/${o.workOrderId}`)}static#t=this.\u0275fac=function(e){return new(e||A)(t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["app-work-orders-table"]],inputs:{items:"items"},decls:2,vars:2,consts:[["class","table table-hover",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table","table-hover"],["role","button",3,"click",4,"ngFor","ngForOf"],["role","button",3,"click"],[1,"text-center","mt-3"]],template:function(e,n){1&e&&(t.YNc(0,vt,11,1,"table",0),t.YNc(1,wt,2,0,"p",1)),2&e&&(t.Q6J("ngIf",n.items&&n.items.length),t.xp6(1),t.Q6J("ngIf",n.items&&!n.items.length))},dependencies:[c.sg,c.O5,c.uU]})}function kt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"h4",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4)(5,"h5",3),t._uU(6,"Equipos"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenAddEquipmentModal())}),t._uU(9,"Agregar nuevo equipo"),t.qZA()(),t.TgZ(10,"app-items-list",7),t.NdJ("rowClickedEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.navigateToEquipment(i))}),t.ALo(11,"toItemList"),t.qZA()(),t.TgZ(12,"div",4)(13,"h5",3),t._uU(14,"\xd3rdenes de trabajo"),t.qZA(),t.TgZ(15,"div",5)(16,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenAddWorkOrder())}),t._uU(17,"Agregar nueva OT"),t.qZA()(),t._UZ(18,"app-work-orders-table",8),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Oqu(e.branch.branchName),t.xp6(7),t.Q6J("items",t.xi3(11,3,e.branch.equipment,"equipment")),t.xp6(8),t.Q6J("items",e.branch.workOrders)}}class x{constructor(o,e,n,i){this.route=o,this.httpService=e,this.modalService=n,this.router=i}ngOnInit(){this.getBranch()}getBranch(){const o=this.route.snapshot.paramMap.get("branchId");this.httpService.get(`Branches?branchId=${o}`).subscribe(e=>this.branch=e)}onOpenAddEquipmentModal(){this.modalRef=this.modalService.open(Z,{size:"lg"}),this.modalRef.componentInstance.branch=this.branch,this.modalRef.closed.subscribe(o=>o&&this.getBranch())}onOpenAddWorkOrder(){this.modalRef=this.modalService.open(T,{size:"lg"}),this.modalRef.componentInstance.branch=this.branch,this.modalRef.closed.subscribe(o=>o&&this.getBranch())}navigateToEquipment(o){this.router.navigateByUrl(`customers/equipment/${o.id}`)}static#t=this.\u0275fac=function(e){return new(e||x)(t.Y36(d.gz),t.Y36(l.O),t.Y36(p.FF),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:x,selectors:[["app-branch-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mt-3"],[1,"text-center"],[1,"col-lg-6","mt-3"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[3,"items","rowClickedEvent"],[3,"items"]],template:function(e,n){1&e&&t.YNc(0,kt,19,6,"div",0),2&e&&t.Q6J("ngIf",n.branch)},dependencies:[c.O5,C.H,A,f.R]})}var q=m(18);function It(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addBranchForm.valid&&i.onSubmit())}),t.TgZ(1,"div",9)(2,"label",10),t._uU(3,"Nombre"),t.qZA(),t._UZ(4,"input",11),t.qZA(),t.TgZ(5,"button",12),t._uU(6,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.addBranchForm),t.xp6(5),t.Q6J("disabled",!e.addBranchForm.valid)}}class N{constructor(o,e,n){this.bsModalRef=o,this.fb=e,this.httpService=n}ngOnInit(){this.initForm()}initForm(){this.addBranchForm=this.fb.group({branchName:["",a.kI.required]})}onSubmit(){this.httpService.post("Branches",{branchName:this.addBranchForm.controls.branchName.value,customerId:this.customerId}).subscribe(e=>{this.bsModalRef.hide(),this.bsModalRef.onHide.emit(e)})}static#t=this.\u0275fac=function(e){return new(e||N)(t.Y36(q.UZ),t.Y36(a.qu),t.Y36(l.O))};static#e=this.\u0275cmp=t.Xpm({type:N,selectors:[["app-add-branch-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","branchName",1,"form-label"],["type","text","id","branchName","formControlName","branchName",1,"form-control"],[1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nueva sucursal"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.bsModalRef.hide()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,It,7,2,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.bsModalRef.hide()}),t._uU(10,"Cerrar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.addBranchForm))},dependencies:[c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}function Zt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"h4",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onOpenAddBranchModal())}),t._uU(6,"Agregar nueva sucursal"),t.qZA()(),t.TgZ(7,"div",6)(8,"app-items-list",7),t.NdJ("rowClickedEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.goToBranch(i))}),t.ALo(9,"toItemList"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Oqu(e.customer.customerName),t.xp6(5),t.Q6J("items",t.xi3(9,2,e.customer.branches,"branch"))}}class F{constructor(o,e,n,i){this.route=o,this.httpService=e,this.modalService=n,this.router=i}ngOnInit(){this.getCustomer()}getCustomer(){const o=this.route.snapshot.paramMap.get("id");this.httpService.get(`Customers/${o}`).subscribe(e=>this.customer=e)}onOpenAddBranchModal(){this.modalRef=this.modalService.show(N,{initialState:{customerId:this.customer.customerId}})}goToBranch(o){this.router.navigateByUrl(`customers/customer/${this.customer.customerId}/branch/${o.id}`)}static#t=this.\u0275fac=function(e){return new(e||F)(t.Y36(d.gz),t.Y36(l.O),t.Y36(q.tT),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:F,selectors:[["app-customer-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","mt-3"],[1,"text-center"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"col","mt-3"],[3,"items","rowClickedEvent"]],template:function(e,n){1&e&&t.YNc(0,Zt,10,5,"div",0),2&e&&t.Q6J("ngIf",n.customer)},dependencies:[c.O5,C.H,f.R]})}var $=m(860);function Tt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addCustomerForm.valid&&i.onSubmit())}),t.TgZ(1,"div",9)(2,"label",10),t._uU(3,"Nombre"),t.qZA(),t._UZ(4,"input",11),t.qZA(),t.TgZ(5,"button",12),t._uU(6,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.addCustomerForm),t.xp6(5),t.Q6J("disabled",!e.addCustomerForm.valid)}}class y{constructor(o,e,n){this.activeModal=o,this.fb=e,this.httpService=n}ngOnInit(){this.initForm()}initForm(){this.addCustomerForm=this.fb.group({customerName:["",a.kI.required]})}onSubmit(){this.httpService.post("Customers",{customerName:this.addCustomerForm.controls.customerName.value}).subscribe(e=>{this.activeModal.close(e)})}static#t=this.\u0275fac=function(e){return new(e||y)(t.Y36(p.Kz),t.Y36(a.qu),t.Y36(l.O))};static#e=this.\u0275cmp=t.Xpm({type:y,selectors:[["app-add-customer-modal"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","customerName",1,"form-label"],["type","text","id","customerName","formControlName","customerName",1,"form-control"],[1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Agregar Nuevo cliente"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.dismiss()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,Tt,7,2,"form",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return n.activeModal.close()}),t._uU(10,"Cerrar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.addCustomerForm))},dependencies:[c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}function Ct(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"h4",2),t._uU(3,"Editar cliente"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.activeModal.dismiss())}),t.qZA()(),t.TgZ(5,"div",4)(6,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editForm.dirty&&i.editForm.valid&&i.onSubmit())}),t.TgZ(7,"div",6)(8,"label",7),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",8),t.qZA()()(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t._uU(13,"Guardar"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.activeModal.close())}),t._uU(15,"Close"),t.qZA()(),t.BQk()}if(2&r){const e=t.oxw();t.xp6(6),t.Q6J("formGroup",e.editForm),t.xp6(6),t.Q6J("disabled",!e.editForm.dirty&&e.editForm.valid)}}class O{constructor(o,e,n){this.activeModal=o,this.httpService=e,this.fb=n}ngOnInit(){this.getCustomer()}initForm(){this.editForm=this.fb.group({customerId:[this.customer.customerId,a.kI.required],customerName:[this.customer.customerName,a.kI.required]})}getCustomer(){this.httpService.get(`${_.G8.customersApi}/${this.customerId}`).subscribe(o=>{this.customer=o,this.initForm()})}onSubmit(){this.editForm&&this.editForm.valid&&this.httpService.put(`${_.G8.customersApi}/${this.customerId}`,{customerId:this.editForm.controls.customerId.value,customerName:this.editForm.controls.customerName.value}).subscribe(e=>this.activeModal.close(e))}static#t=this.\u0275fac=function(e){return new(e||O)(t.Y36(p.Kz),t.Y36(l.O),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-edit-customer-modal"]],inputs:{customerId:"customerId"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","cutomerName",1,"form-label"],["type","text","formControlName","customerName",1,"form-control"],[1,"modal-footer"],[1,"btn","btn-outline-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,n){1&e&&t.YNc(0,Ct,16,2,"ng-container",0),2&e&&t.Q6J("ngIf",n.editForm)},dependencies:[c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}const At=function(r){return[r]};class E{constructor(o,e,n){this.modalService=o,this.httpService=e,this.router=n,this.listActions=$.D}ngOnInit(){this.getCustomers()}getCustomers(){this.httpService.get("Customers").subscribe(o=>this.customers=o)}onOpenAddCustomerModal(){this.modalRef=this.modalService.open(y),this.modalRef.closed.subscribe(o=>o&&this.getCustomers())}goToBranch(o){this.router.navigateByUrl(`customers/customer/${o.id}`)}openEditCustomerModal(o){this.modalRef=this.modalService.open(O),this.modalRef.componentInstance.customerId=o.id,this.modalRef.closed.subscribe(e=>{this.updateCustomers(e)})}actionButtonClicked(o){o.action===$.D.edit&&this.openEditCustomerModal(o.item)}updateCustomers(o){if(!o)return;const e=this.customers.findIndex(n=>n.customerId==o.customerId);this.customers?.splice(e,1,o),this.customers=Object.assign([],this.customers)}static#t=this.\u0275fac=function(e){return new(e||E)(t.Y36(p.FF),t.Y36(l.O),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:E,selectors:[["app-customers"]],decls:10,vars:7,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"row","mt-3"],[1,"col"],[3,"items","actions","actionButtonClickedEvent","rowClickedEvent"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Clientes"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return n.onOpenAddCustomerModal()}),t._uU(5,"Agregar nuevo cliente"),t.qZA()(),t.TgZ(6,"div",3)(7,"div",4)(8,"app-items-list",5),t.NdJ("actionButtonClickedEvent",function(s){return n.actionButtonClicked(s)})("rowClickedEvent",function(s){return n.goToBranch(s)}),t.ALo(9,"toItemList"),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("items",t.xi3(9,2,n.customers,"customer"))("actions",t.VKq(5,At,n.listActions.edit)))},dependencies:[C.H,f.R]})}const xt=function(){return["Tipo de mantenimiento","Descripci\xf3n"]};function qt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h4",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"p")(6,"b"),t._uU(7,"Cliente: "),t.qZA(),t.TgZ(8,"a",5),t._uU(9),t.qZA()(),t.TgZ(10,"p")(11,"b"),t._uU(12,"Sucursal: "),t.qZA(),t.TgZ(13,"a",5),t._uU(14),t.qZA()(),t.TgZ(15,"p")(16,"b"),t._uU(17,"Descripci\xf3n: "),t.qZA(),t._uU(18),t.qZA()()(),t.TgZ(19,"div",3)(20,"h5",6),t._uU(21,"\xcdtems asociados"),t.qZA(),t.TgZ(22,"app-work-items-list",7),t.NdJ("rowClickedEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.navigateToWo(i))}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu(e.equipment.equipmentName),t.xp6(6),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.equipment.customerId),t.xp6(1),t.Oqu(e.equipment.customerName),t.xp6(4),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.equipment.customerId+"/"+e.routeConstants.branchPath+"/"+e.equipment.branchId),t.xp6(1),t.hij(" ",e.equipment.branchName," "),t.xp6(4),t.hij(" ",e.equipment.equipmentDescription?e.equipment.equipmentDescription:"No se ingres\xf3 descripci\xf3n del equipo.",""),t.xp6(4),t.Q6J("workItems",e.workItems)("columns",t.DdM(8,xt))}}class J{constructor(o,e,n){this.httpService=o,this.route=e,this.router=n,this.routeConstants=_.p7}ngOnInit(){this.getEquipment()}getEquipment(){const o=this.route.snapshot.paramMap.get("id");this.httpService.get(`Equipment/${o}`).subscribe(e=>{this.equipment=e,this.getWorkItems()})}getWorkItems(){this.httpService.get(`WorkItem/equipment?equipmentId=${this.equipment.equipmentId}`).subscribe(o=>this.workItems=o)}navigateToWo(o){this.router.navigateByUrl(`customers/work-item/${o.workItemId}`)}static#t=this.\u0275fac=function(e){return new(e||J)(t.Y36(l.O),t.Y36(d.gz),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:J,selectors:[["app-equipment"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-3","text-center"],[1,"row","mt-3"],[1,"col"],[3,"routerLink"],[1,"text-center"],[3,"workItems","columns","rowClickedEvent"]],template:function(e,n){1&e&&t.YNc(0,qt,23,9,"div",0),2&e&&t.Q6J("ngIf",n.equipment)},dependencies:[c.O5,d.rH,g]})}var Nt=m(2340);function Ft(r,o){if(1&r&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("src",n.filesUrl+e.url,t.LSH)}}function yt(r,o){1&r&&t.YNc(0,Ft,2,1,"ng-template",3)}function Ot(r,o){if(1&r&&(t.TgZ(0,"ngb-carousel",1),t.YNc(1,yt,1,0,null,2),t.qZA()),2&r){const e=t.oxw();t.Q6J("interval",0),t.xp6(1),t.Q6J("ngForOf",e.images)}}class U{constructor(){this.filesUrl=Nt.N.filesUrl,this.images=[]}ngOnChanges(o){console.log(o)}static#t=this.\u0275fac=function(e){return new(e||U)};static#e=this.\u0275cmp=t.Xpm({type:U,selectors:[["app-image-carousel"]],inputs:{images:"images",config:"config"},features:[t.TTD],decls:1,vars:1,consts:[[3,"interval",4,"ngIf"],[3,"interval"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"img-container","text-center"],[3,"src"]],template:function(e,n){1&e&&t.YNc(0,Ot,2,2,"ngb-carousel",0),2&e&&t.Q6J("ngIf",n.images)},dependencies:[c.sg,c.O5,p.uo,p.xl],styles:["img[_ngcontent-%COMP%]{max-height:400px;max-width:100%}"]})}class M{transform(o){return o&&o.length?o:[]}static#t=this.\u0275fac=function(e){return new(e||M)};static#e=this.\u0275pipe=t.Yjl({name:"appFilesPipe",type:M,pure:!0})}class S{constructor(o){this.bsModalRef=o,this.sliderConfig={interval:0,noPause:!0}}static#t=this.\u0275fac=function(e){return new(e||S)(t.Y36(q.UZ))};static#e=this.\u0275cmp=t.Xpm({type:S,selectors:[["app-work-item-detail-modal"]],decls:21,vars:6,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"row","g-2"],[1,"col-12"],[3,"images","config"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.bsModalRef.hide()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"p")(10,"b"),t._uU(11,"Descripci\xf3n:"),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"div",6)(14,"h5"),t._uU(15,"Archivos:"),t.qZA(),t._UZ(16,"app-image-carousel",7),t.ALo(17,"appFilesPipe"),t.qZA()()(),t.TgZ(18,"div",8)(19,"button",9),t.NdJ("click",function(){return n.bsModalRef.hide()}),t._uU(20,"Cerrar"),t.qZA()()),2&e&&(t.xp6(2),t.hij("Trabajo: ",n.activityLog.workItemActivityLogId,""),t.xp6(10),t.hij(" ",n.activityLog.description,""),t.xp6(4),t.Q6J("images",t.lcZ(17,4,n.activityLog.files))("config",n.sliderConfig))},dependencies:[U,M]})}var Et=m(529);class P{constructor(o){this.activeModal=o}static#t=this.\u0275fac=function(e){return new(e||P)(t.Y36(p.Kz))};static#e=this.\u0275cmp=t.Xpm({type:P,selectors:[["app-modal-image"]],inputs:{fileUrl:"fileUrl"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],[3,"src"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Imagen"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.dismiss()}),t.qZA()(),t.TgZ(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return n.activeModal.close()}),t._uU(8,"Close"),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("src",n.fileUrl,t.LSH))},styles:["img[_ngcontent-%COMP%]{max-width:100%;max-height:60vh}"]})}var B=m(1894);function Jt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"ngx-dropzone-preview",9),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.onRemove(s))}),t.TgZ(1,"ngx-dropzone-label"),t._uU(2),t.qZA()()}if(2&r){const e=o.$implicit;t.Q6J("removable",!0),t.xp6(2),t.Oqu(e.name)}}class W{constructor(o){this.activeModal=o,this.files=[]}onSelect(o){this.files.push(...o.addedFiles)}onRemove(o){this.files.splice(this.files.indexOf(o),1)}static#t=this.\u0275fac=function(e){return new(e||W)(t.Y36(p.Kz))};static#e=this.\u0275cmp=t.Xpm({type:W,selectors:[["app-upload-files-modal"]],inputs:{files:"files"},decls:14,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"accept","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[3,"removable","removed"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Cargar im\xe1genes"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.close()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t.TgZ(6,"div",4)(7,"ngx-dropzone",5),t.NdJ("change",function(s){return n.onSelect(s)}),t.TgZ(8,"ngx-dropzone-label"),t._uU(9,"Haga click o arrastre hasta aqu\xed para a\xf1adir archivos"),t.qZA(),t.YNc(10,Jt,3,2,"ngx-dropzone-preview",6),t.qZA()(),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return n.activeModal.close()}),t._uU(13,"Cerrar"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("accept","image/*"),t.xp6(3),t.Q6J("ngForOf",n.files))},dependencies:[c.sg,B._f,B.NP,B.dt]})}var Ut=m(1481);function Mt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setAddingItem(!0))}),t._uU(2,"Agregar nuevo trabajo"),t.qZA()()}}function St(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"p",18)(1,"span",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw(3);return t.KtG(h.showAddedImage(s))}),t._uU(2),t.qZA(),t.TgZ(3,"fa-icon",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw(3);return t.KtG(h.removeFile(s))}),t.qZA()()}if(2&r){const e=o.$implicit,n=t.oxw(3);t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("icon",n.faClose)}}function Pt(r,o){if(1&r&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2,"Archivos agregados:"),t.qZA(),t.YNc(3,St,4,2,"p",17),t.qZA()),2&r){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.itemForm.value.files)}}function Wt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.itemForm.valid&&i.onSubmit())}),t.TgZ(1,"div",5),t._UZ(2,"textarea",6),t.TgZ(3,"label",7),t._uU(4,"Descripci\xf3n del trabajo realizado"),t.qZA()(),t.YNc(5,Pt,4,1,"div",8),t.TgZ(6,"div",9)(7,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSaveWorkItem())}),t._UZ(8,"fa-icon",11),t._uU(9," Guardar "),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onAddImage())}),t._UZ(11,"fa-icon",11),t._uU(12," A\xf1adir imagen "),t.qZA(),t.TgZ(13,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setAddingItem(!1))}),t._UZ(14,"fa-icon",14),t._uU(15," Cancelar "),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.itemForm),t.xp6(5),t.Q6J("ngIf",e.itemForm.value.files.length),t.xp6(2),t.Q6J("disabled",!e.itemForm.valid),t.xp6(1),t.Q6J("icon",e.faSave),t.xp6(3),t.Q6J("icon",e.faImage),t.xp6(3),t.Q6J("icon",e.faTrash)}}class Y{constructor(o,e,n,i){this.fb=o,this.httpService=e,this.modalService=n,this.sanitazer=i,this.faSave=u.r6l,this.faTrash=u.$aW,this.faImage=u.VmB,this.faClose=u.YIN,this.addingItem=!1,this.workItemActivityLogCreatedEvent=new t.vpe}onSaveWorkItem(){}initForm(){this.itemForm=this.fb.group({description:["",a.kI.required],workItemId:[this.workItemId,a.kI.required],files:[new Array]})}setAddingItem(o){o&&this.initForm(),this.addingItem=o}onSubmit(){const o=this.itemForm.controls.files.value,e=new FormData,n=new Et.WM({"Content-Type":"multipart/form-data"});e.append("workItemId",this.workItemId.toString()),e.append("description",this.itemForm.controls.description.value),o.map(i=>{e.append("recievedFiles",i)}),this.httpService.postWithOptions(`${_.G8.workItemActivityLogApi}`,e,n).subscribe(()=>{this.workItemActivityLogCreatedEvent.emit(),this.setAddingItem(!1)})}onAddImage(){this.modalRef=this.modalService.open(W,{size:"lg"}),this.modalRef.componentInstance.files=this.itemForm.controls.files.value,this.modalRef.closed.subscribe(o=>{!o||!o.length||this.itemForm.patchValue({files:o})})}removeFile(o){this.itemForm.patchValue({files:this.itemForm.value.files.filter(e=>e!=o)})}showAddedImage(o){this.modalRef=this.modalService.open(P),this.modalRef.componentInstance.fileUrl=this.sanitazer.bypassSecurityTrustUrl(URL.createObjectURL(new Blob([o],{type:o.type})))}static#t=this.\u0275fac=function(e){return new(e||Y)(t.Y36(a.qu),t.Y36(l.O),t.Y36(p.FF),t.Y36(Ut.H7))};static#e=this.\u0275cmp=t.Xpm({type:Y,selectors:[["app-new-work-item-activity-log"]],inputs:{workItemId:"workItemId"},outputs:{workItemActivityLogCreatedEvent:"workItemActivityLogCreatedEvent"},decls:2,vars:2,consts:[["class","d-flex justify-content-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["placeholder","Leave a comment here","id","floatingTextarea","formControlName","description",1,"form-control"],["for","floatingTextarea"],["class","added-files",4,"ngIf"],[1,"d-flex","justify-content-center","mt-2"],["type","submit",1,"btn","btn-sm","btn-outline-primary","me-2",3,"disabled","click"],[1,"me-1",3,"icon"],["type","button",1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"icon"],[1,"added-files"],[1,"mb-2","mt-2"],["class","added-file",4,"ngFor","ngForOf"],[1,"added-file"],["role","button",3,"click"],["role","button",3,"icon","click"]],template:function(e,n){1&e&&(t.YNc(0,Mt,3,0,"div",0),t.YNc(1,Wt,16,6,"form",1)),2&e&&(t.Q6J("ngIf",!n.addingItem),t.xp6(1),t.Q6J("ngIf",n.addingItem&&n.itemForm))},dependencies:[c.sg,c.O5,v.BN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".added-file[_ngcontent-%COMP%]{display:inline-flex;padding:.2rem .5rem;border-radius:.2rem;background-color:#c8c8c8b3;align-items:center;margin-bottom:.5rem;margin-right:.5rem}.added-file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;max-width:8rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.added-file[_ngcontent-%COMP%]:last-child{margin-right:0}"]})}const Yt=function(){return["Id","Descripci\xf3n"]};function Qt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h4",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"p",5)(6,"b"),t._uU(7,"Orden de trabajo: "),t.qZA(),t.TgZ(8,"a",6),t._uU(9),t.qZA()()(),t.TgZ(10,"div",4)(11,"p",5)(12,"b"),t._uU(13,"Equipo: "),t.qZA(),t.TgZ(14,"a",6),t._uU(15),t.qZA()()(),t.TgZ(16,"div",4)(17,"p",5)(18,"b"),t._uU(19,"Cliente: "),t.qZA(),t.TgZ(20,"a",6),t._uU(21),t.qZA()()(),t.TgZ(22,"div",4)(23,"p",5)(24,"b"),t._uU(25,"Sucursal: "),t.qZA(),t.TgZ(26,"a",6),t._uU(27),t.qZA()()(),t.TgZ(28,"div",4)(29,"p",5)(30,"b"),t._uU(31,"Fecha de creaci\xf3n: "),t.qZA(),t._uU(32),t.ALo(33,"date"),t.qZA()(),t.TgZ(34,"div",7)(35,"p",5)(36,"b"),t._uU(37,"Descripci\xf3n: "),t.qZA(),t._uU(38),t.qZA()()(),t.TgZ(39,"div",8)(40,"h5",9),t._uU(41,"Trabajos realizados"),t.qZA(),t.TgZ(42,"app-new-work-item-activity-log",10),t.NdJ("workItemActivityLogCreatedEvent",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.activityLogCreated())}),t.qZA(),t.TgZ(43,"app-items-list",11),t.NdJ("rowClickedEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.showWorkActivityLogDetail(i))}),t.ALo(44,"toItemList"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("\xcdtem de trabajo: ",e.workItem.workItemId,""),t.xp6(6),t.Q6J("routerLink","/"+e.routeConstants.workOrderPath+"/"+e.workItem.workOrderId),t.xp6(1),t.Oqu(e.workItem.workOrderId),t.xp6(5),t.Q6J("routerLink","/"+e.routeConstants.equipmentPath+"/"+e.workItem.equipment.equipmentId),t.xp6(1),t.Oqu(e.workItem.equipment.equipmentName),t.xp6(5),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.workItem.equipment.customerId),t.xp6(1),t.Oqu(e.workItem.equipment.customerName),t.xp6(5),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.workItem.equipment.customerId+"/"+e.routeConstants.branchPath+"/"+e.workItem.equipment.branchId),t.xp6(1),t.hij(" ",e.workItem.equipment.branchName," "),t.xp6(5),t.hij(" ",t.lcZ(33,14,e.workItem.createdOn),""),t.xp6(6),t.hij(" ",e.workItem.workItemDescription?e.workItem.workItemDescription:"No se ingres\xf3 descripci\xf3n de la OT.",""),t.xp6(4),t.Q6J("workItemId",e.workItem.workItemId),t.xp6(1),t.Q6J("headers",t.DdM(19,Yt))("items",t.xi3(44,16,e.workItem.workItemActivityLogs,"workItemActivityLog"))}}class Q{constructor(o,e,n){this.httpService=o,this.route=e,this.modalService=n,this.routeConstants=_.p7}ngOnInit(){this.getWorkItem()}getWorkItem(){const o=this.route.snapshot.paramMap.get("id");this.httpService.get(`WorkItem/${o}`).subscribe(e=>{this.workItem=e})}showWorkActivityLogDetail(o){const e={initialState:{activityLog:this.workItem.workItemActivityLogs.find(n=>n.workItemActivityLogId==o.id)},class:"modal-lg"};this.modalRef=this.modalService.show(S,e)}activityLogCreated(){this.getWorkItem()}static#t=this.\u0275fac=function(e){return new(e||Q)(t.Y36(l.O),t.Y36(d.gz),t.Y36(q.tT))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["app-work-item"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-3","text-center"],[1,"row","mt-3","g-3"],[1,"col-sm-6"],[1,"mb-0"],[3,"routerLink"],[1,"col-12"],[1,"row","mt-3"],[1,"text-center"],[3,"workItemId","workItemActivityLogCreatedEvent"],[3,"headers","items","rowClickedEvent"]],template:function(e,n){1&e&&t.YNc(0,Qt,45,20,"div",0),2&e&&t.Q6J("ngIf",n.workItem)},dependencies:[c.O5,d.rH,C.H,Y,c.uU,f.R]})}function Dt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h4",2),t._uU(2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"p")(6,"b"),t._uU(7,"Cliente: "),t.qZA(),t.TgZ(8,"a",5),t._uU(9),t.qZA()(),t.TgZ(10,"p")(11,"b"),t._uU(12,"Sucursal: "),t.qZA(),t.TgZ(13,"a",5),t._uU(14),t.qZA()(),t.TgZ(15,"p")(16,"b"),t._uU(17,"Fecha de creaci\xf3n: "),t.qZA(),t._uU(18),t.ALo(19,"date"),t.qZA(),t.TgZ(20,"p")(21,"b"),t._uU(22,"Descripci\xf3n: "),t.qZA(),t._uU(23),t.qZA()()(),t.TgZ(24,"div",3)(25,"h5",6),t._uU(26,"\xcdtems"),t.qZA(),t.TgZ(27,"app-work-items-list",7),t.NdJ("rowClickedEvent",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.navigateToWi(i))}),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("Orden de trabajo: ",e.workOrder.workOrderId,""),t.xp6(6),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.workOrder.customerId),t.xp6(1),t.Oqu(e.workOrder.customerName),t.xp6(4),t.Q6J("routerLink","/"+e.routeConstants.customersPath+"/"+e.workOrder.customerId+"/"+e.routeConstants.branchPath+"/"+e.workOrder.branchId),t.xp6(1),t.hij(" ",e.workOrder.branchName," "),t.xp6(4),t.hij(" ",t.lcZ(19,8,e.workOrder.createdOn),""),t.xp6(5),t.hij(" ",e.workOrder.workOrderDescription?e.workOrder.workOrderDescription:"No se ingres\xf3 descripci\xf3n de la OT.",""),t.xp6(4),t.Q6J("workItems",e.workOrder.workItems)}}class D{constructor(o,e,n){this.httpService=o,this.route=e,this.router=n,this.routeConstants=_.p7}ngOnInit(){this.getWorkOrder()}getWorkOrder(){const o=this.route.snapshot.paramMap.get("id");this.httpService.get(`${_.G8.workOrderApi}/${o}`).subscribe(e=>this.workOrder=e)}navigateToWi(o){this.router.navigateByUrl(`${_.p7.workItemPath}/${o.workItemId}`)}static#t=this.\u0275fac=function(e){return new(e||D)(t.Y36(l.O),t.Y36(d.gz),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:D,selectors:[["app-work-order"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-3","text-center"],[1,"row","mt-3"],[1,"col"],[3,"routerLink"],[1,"text-center"],[3,"workItems","rowClickedEvent"]],template:function(e,n){1&e&&t.YNc(0,Dt,28,10,"div",0),2&e&&t.Q6J("ngIf",n.workOrder)},dependencies:[c.O5,d.rH,g,c.uU]})}const Lt=[{path:"",component:E},{path:"customer",children:[{path:":id",component:F},{path:":customerId/branch/:branchId",component:x}]},{path:"work-order/:id",component:D},{path:"equipment/:id",component:J},{path:"work-item/:id",component:Q}];class L{static#t=this.\u0275fac=function(e){return new(e||L)};static#e=this.\u0275mod=t.oAB({type:L});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(Lt),d.Bz]})}var Gt=m(6619);class G{static#t=this.\u0275fac=function(e){return new(e||G)};static#e=this.\u0275mod=t.oAB({type:G});static#o=this.\u0275inj=t.cJS({imports:[c.ez,L,Gt.m]})}}}]);