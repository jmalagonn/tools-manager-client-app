"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[148],{7323:(b,O,c)=>{c.d(O,{G:()=>e});class e{static#t=this.accountLogin="Account/login";static#e=this.addUserApi="Users/addUser";static#r=this.branchesApi="Branches";static#o=this.customersApi="Customers";static#n=this.equipmentApi="Equipment";static#i=this.equipmentParametersApi="Equipment/parameters";static#s=this.measurementUnitsApi="MeasurementUnits";static#c=this.userApi="Users";static#a=this.userEmployeeApi="Users/employee";static#d=this.userEmployeesApi="Users/employees";static#l=this.userRolesApi="UserRole";static#p=this.workItemApi="WorkItem";static#u=this.workOrderApi="WorkOrder";static#m=this.workOrderActivity=`${this.workOrderApi}/activity`;static#h=this.workOrderTypesApi=`${this.workOrderApi}/workOrderTypes`;static#_=this.workOrderTypeApi=`${this.workOrderApi}/workOrderType`;static#f=this.workOrderFilesApi=`${this.workOrderApi}/workOrderFiles`;static#g=this.toolsApi="Tools";static#O=this.toolParametersApi="Tools/parameters";static#k=this.toolOutputsApi="ToolOutputs";static#C=this.workStateApi="WorkState"}},9127:(b,O,c)=>{c.d(O,{I:()=>h});var e=c(6895),m=c(1571);class h{static#t=this.\u0275fac=function(d){return new(d||h)};static#e=this.\u0275mod=m.oAB({type:h});static#r=this.\u0275inj=m.cJS({imports:[e.ez]})}},5307:(b,O,c)=>{c.d(O,{O:()=>f});var e=c(529);var h=c(1571);class f{constructor(d){this.httpClient=d,this.api_url="/api/"}get(d){return this.httpClient.get(this.api_url+d)}post(d,u){return this.httpClient.post(this.api_url+d,u)}postFormData(d,u){const t=new e.WM({"Content-Type":"multipart/form-data"});return this.httpClient.post(this.api_url+d,u,{headers:t})}put(d,u){return this.httpClient.put(this.api_url+d,u)}delete(d){return this.httpClient.delete(this.api_url+d)}static#t=this.\u0275fac=function(u){return new(u||f)(h.LFG(e.eN))};static#e=this.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}},7339:(b,O,c)=>{c.d(O,{O:()=>t});var e=c(1571),m=c(2687),h=c(6895),f=c(2216),p=c(433);class d{constructor(a){this.el=a,this.leftClass="left"}ngOnInit(){this.el.nativeElement.getBoundingClientRect().x<0&&this.el.nativeElement.classList.add(this.leftClass)}static#t=this.\u0275fac=function(g){return new(g||d)(e.Y36(e.SBq))};static#e=this.\u0275dir=e.lG2({type:d,selectors:[["","leftPositionElement",""]]})}function u(_,a){if(1&_){const g=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"input",5),e.NdJ("ngModelChange",function(w){e.CHM(g);const A=e.oxw();return e.KtG(A.inputText=w)}),e.qZA(),e.TgZ(3,"fa-icon",6),e.NdJ("click",function(){e.CHM(g);const w=e.oxw();return e.KtG(w.onClickApply())}),e.qZA(),e.TgZ(4,"fa-icon",7),e.NdJ("click",function(){e.CHM(g);const w=e.oxw();return e.KtG(w.onClickCancel())}),e.qZA()()()}if(2&_){const g=e.oxw();e.xp6(2),e.Q6J("ngModel",g.inputText),e.xp6(1),e.Q6J("icon",g.faCheck),e.xp6(1),e.Q6J("icon",g.faX)}}class t{constructor(){this.faFilter=m.G_j,this.faCheck=m.fV7,this.faX=m.WA2,this.showContent=!1,this.applyFilterEvent=new e.vpe}onClickApply(){this.applyFilterEvent.emit(this.inputText),this.showContent=!1}onClickCancel(){this.inputText="",this.showContent=!1,this.applyFilterEvent.emit(this.inputText)}toggleFilterColumn(a){this.showContent=!this.showContent}static#t=this.\u0275fac=function(g){return new(g||t)};static#e=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-column-filter"]],outputs:{applyFilterEvent:"applyFilterEvent"},decls:3,vars:2,consts:[[1,"container-box"],["role","button",3,"icon","click"],["class","content","leftPositionElement","",4,"ngIf"],["leftPositionElement","",1,"content"],[1,"form-area","d-flex","align-items-center"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],["role","button",1,"text-success",3,"icon","click"],["role","button",1,"text-danger",3,"icon","click"]],template:function(g,C){1&g&&(e.TgZ(0,"div",0)(1,"fa-icon",1),e.NdJ("click",function(A){return C.toggleFilterColumn(A)}),e.qZA(),e.YNc(2,u,5,3,"div",2),e.qZA()),2&g&&(e.xp6(1),e.Q6J("icon",C.faFilter),e.xp6(1),e.Q6J("ngIf",C.showContent))},dependencies:[h.O5,f.BN,p.Fj,p.JJ,p.On,d],styles:[".container-box[_ngcontent-%COMP%]{position:relative}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;background:white;right:0;width:13rem;border-radius:.375rem;padding:.5rem;box-shadow:0 2px 5px #727272}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-area[_ngcontent-%COMP%]{gap:.3rem}.container-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .form-area[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.25rem}.container-box[_ngcontent-%COMP%]   .content.left[_ngcontent-%COMP%]{right:auto;left:0}"]})}},1875:(b,O,c)=>{c.d(O,{J:()=>d});var e=c(1571),m=c(6895),h=c(9453);function f(u,t){if(1&u&&(e.TgZ(0,"label",6),e._uU(1),e.qZA()),2&u){const _=e.oxw();e.xp6(1),e.Oqu(_.label)}}function p(u,t){if(1&u){const _=e.EpF();e.TgZ(0,"li",7),e.NdJ("click",function(){const C=e.CHM(_).$implicit,w=e.oxw();return e.KtG(w.onSelectOption(C))}),e.TgZ(1,"p",8),e._uU(2),e.qZA()()}if(2&u){const _=t.$implicit;e.xp6(2),e.Oqu(_.description)}}class d{constructor(){this.buttonText="Seleccionar",this.onSelectOptionEvent=new e.vpe}ngOnChanges(){this.selectedOptionId&&this.options&&(this.selectedOption=this.options.find(t=>t.id==this.selectedOptionId))}onSelectOption(t){this.selectedOption=t,this.onSelectOptionEvent.emit(t)}static#t=this.\u0275fac=function(_){return new(_||d)};static#e=this.\u0275cmp=e.Xpm({type:d,selectors:[["app-dropdown"]],inputs:{label:"label",buttonText:"buttonText",options:"options",selectedOptionId:"selectedOptionId"},outputs:{onSelectOptionEvent:"onSelectOptionEvent"},features:[e.TTD],decls:7,vars:3,consts:[["ngbDropdown","",1,"app-dropdown"],["class","form-label",4,"ngIf"],["ngbDropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","app-dropdown--button"],[1,"caret"],["ngbDropdownMenu","","role","menu",1,"app-dropdown--menu","p-0"],["class","dp-item","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[1,"form-label"],["ngbDropdownItem","",1,"dp-item",3,"click"],["role","button",1,"m-0","ps-2","pe-2"]],template:function(_,a){1&_&&(e.TgZ(0,"div",0),e.YNc(1,f,2,1,"label",1),e.TgZ(2,"button",2),e._uU(3),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"ul",4),e.YNc(6,p,3,1,"li",5),e.qZA()()),2&_&&(e.xp6(1),e.Q6J("ngIf",a.label),e.xp6(2),e.hij(" ",a.selectedOption?a.selectedOption.description:a.buttonText," "),e.xp6(3),e.Q6J("ngForOf",a.options))},dependencies:[m.sg,m.O5,h.jt,h.iD,h.Vi,h.TH],styles:[".dp-item[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(200,200,200,.75)}.dp-item[_ngcontent-%COMP%]:hover{background:rgba(200,200,200,.1)}.dp-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.app-dropdown--button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #ced4da;width:100%}.app-dropdown--menu[_ngcontent-%COMP%]{max-height:200px;overflow:auto}"]})}},7281:(b,O,c)=>{c.d(O,{s:()=>h});var e=c(1066),m=c(1571);class h{transform(p,d=""){if(!p)return new Array;switch(d){case"user":case"employee":return p.map(a=>({id:a.userId,description:a.name}));case"customer":case"branch":case"equipment":return p.map(a=>({id:a.id,description:a.name}));case"workOrderActivity":return p.map(a=>({id:a.id,description:a.description}));case"measurementUnits":return p.map(a=>({id:a.measurementUnitId,description:"NA"==a.displayName?"NA":`${a.displayName} (${a.symbol})`}));case"workState":const u=new e.$;return p.map(a=>({id:a.id,description:u.transform(a)}));default:const{idPropName:t,descriptionPropName:_}=this.findProperties(p[0]);return p.map(a=>({id:a[t],description:a[_]}))}}findProperties(p){let d="",u="";for(let t in p)t.match(/^id$/i)?.length&&(d=t),(t.match(/^name$/i)?.length||t.includes("Description"))&&(u=t);return{idPropName:d,descriptionPropName:u}}static#t=this.\u0275fac=function(d){return new(d||h)};static#e=this.\u0275pipe=m.Yjl({name:"toDropdownItem",type:h,pure:!0})}},1066:(b,O,c)=>{c.d(O,{$:()=>m});var e=c(1571);class m{transform(f){if(!f)return"";switch(f.id){case 1:return"Abierta";case 2:return"En proceso";case 3:return"Cerrada";default:return""}}static#t=this.\u0275fac=function(p){return new(p||m)};static#e=this.\u0275pipe=e.Yjl({name:"workState",type:m,pure:!0})}},3148:(b,O,c)=>{c.r(O),c.d(O,{WorkOrderstModule:()=>E});var e=c(6895),m=c(6619),h=c(9127),f=c(8869),p=c(7323),d=c(433),u=c(5698),t=c(1571),_=c(9453),a=c(5307),g=c(3143),C=c(1875),w=c(7281);function A(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"app-dropdown",18),t.NdJ("onSelectOptionEvent",function(i){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onSelectItem(i,l.workOrderProperties.customer))}),t.ALo(1,"toDropdownItem"),t.qZA()}if(2&s){const r=t.oxw(2);t.Q6J("label","Cliente")("options",t.lcZ(1,2,r.customers))}}function M(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"div",10)(1,"app-dropdown",18),t.NdJ("onSelectOptionEvent",function(i){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onSelectItem(i,l.workOrderProperties.branch))}),t.ALo(2,"toDropdownItem"),t.qZA()()}if(2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("label","Sucursal")("options",t.lcZ(2,2,r.branches))}}function W(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"div",10)(1,"app-dropdown",18),t.NdJ("onSelectOptionEvent",function(i){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onSelectItem(i,l.workOrderProperties.equipment))}),t.ALo(2,"toDropdownItem"),t.qZA()()}if(2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("label","Equipo")("options",t.lcZ(2,2,r.equipment))}}function N(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"div",10)(1,"app-dropdown",19),t.NdJ("onSelectOptionEvent",function(i){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onSelectItem(i,l.workOrderProperties.user))}),t.ALo(2,"toDropdownItem"),t.qZA()()}if(2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("label","Asignado a")("options",t.xi3(2,3,r.users,"employee"))("selectedOptionId",null==r.currentUser?null:r.currentUser.userId)}}function x(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"div",10)(1,"app-dropdown",18),t.NdJ("onSelectOptionEvent",function(i){t.CHM(r);const l=t.oxw(2);return t.KtG(l.onSelectItem(i,l.workOrderProperties.workOrderType))}),t.ALo(2,"toDropdownItem"),t.qZA()()}if(2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("label","Tipo de trabajo")("options",t.lcZ(2,2,r.workOrderTypes))}}function U(s,o){if(1&s&&(t.TgZ(0,"form",8)(1,"div",9)(2,"div",10),t.YNc(3,A,2,4,"app-dropdown",11),t.qZA(),t.YNc(4,M,3,4,"div",12),t.YNc(5,W,3,4,"div",12),t.YNc(6,N,3,6,"div",12),t.YNc(7,x,3,4,"div",12),t.TgZ(8,"div",10)(9,"label",13),t._uU(10,"C\xf3digo GMC"),t.qZA(),t._UZ(11,"input",14),t.qZA(),t.TgZ(12,"div",10)(13,"label",13),t._uU(14,"C\xf3digo cliente"),t.qZA(),t._UZ(15,"input",15),t.qZA(),t.TgZ(16,"div",16)(17,"label",13),t._uU(18,"Trabajo a realizar:"),t.qZA(),t._UZ(19,"textarea",17),t.qZA()()()),2&s){const r=t.oxw();t.Q6J("formGroup",r.workOrderForm),t.xp6(3),t.Q6J("ngIf",r.customers&&r.customers.length),t.xp6(1),t.Q6J("ngIf",r.branches&&r.branches.length),t.xp6(1),t.Q6J("ngIf",r.equipment&&r.equipment.length),t.xp6(1),t.Q6J("ngIf",r.users&&r.users.length),t.xp6(1),t.Q6J("ngIf",r.workOrderTypes&&r.workOrderTypes.length)}}class y{constructor(o,r,n,i){this.activeModal=o,this.fb=r,this.httpService=n,this.accountService=i,this.workOrderProperties=v}ngOnInit(){this.initForm(),this.getCurrentUser(),this.getCustomers(),this.getUsers(),this.getWorkOrderTypes()}getCurrentUser(){this.accountService.currentAccount$.pipe((0,u.q)(1)).subscribe(o=>this.currentUser=o)}initForm(){this.workOrderForm=this.fb.group({customerId:[null,d.kI.required],branchId:[null,d.kI.required],equipmentId:[null],userId:[null,d.kI.required],workOrderTypeId:[null,d.kI.required],internalCode:[""],customerCode:[""],description:[""]})}onSelectItem(o,r){if(this.workOrderForm)switch(r){case v.customer:this.workOrderForm.patchValue({customerId:o.id}),this.getBranches();break;case v.branch:this.workOrderForm.patchValue({branchId:o.id}),this.getEquipment();break;case v.equipment:this.workOrderForm.patchValue({equipmentId:o.id});break;case v.workOrderType:this.workOrderForm.patchValue({workOrderTypeId:o.id});break;case v.user:this.workOrderForm.patchValue({userId:o.id})}}saveWorkOrder(){if(!this.workOrderForm||!this.workOrderForm.valid)return;const o=new FormData;o.append("assignedUserId",this.workOrderForm.controls.userId.value.toString()),o.append("branchId",this.workOrderForm.controls.branchId.value.toString()),o.append("customerId",this.workOrderForm.controls.customerId.value.toString()),o.append("workOrderTypeId",this.workOrderForm.controls.workOrderTypeId.value.toString()),o.append("internalCode",this.workOrderForm.controls.internalCode.value.toString()),o.append("customerCode",this.workOrderForm.controls.customerCode.value.toString()),o.append("workOrderDescription",this.workOrderForm.controls.description.value.toString()),this.httpService.post(p.G.workOrderApi,o).subscribe()}getUsers(){this.httpService.get(p.G.userEmployeesApi).subscribe(o=>this.users=o)}getCustomers(){this.httpService.get(p.G.customersApi).subscribe(o=>this.customers=o)}getWorkOrderTypes(){this.httpService.get(p.G.workOrderTypesApi).subscribe(o=>this.workOrderTypes=o)}getBranches(){!this.workOrderForm||this.httpService.get(`${p.G.branchesApi}/${this.workOrderForm.controls.customerId.value}`).subscribe(o=>this.branches=o)}getEquipment(){!this.workOrderForm||this.httpService.get(`${p.G.equipmentApi}?branchId=${this.workOrderForm.controls.branchId.value}`).subscribe(o=>this.equipment=o)}static#t=this.\u0275fac=function(r){return new(r||y)(t.Y36(_.Kz),t.Y36(d.qu),t.Y36(a.O),t.Y36(g.B))};static#e=this.\u0275cmp=t.Xpm({type:y,selectors:[["app-add-work-order"]],decls:11,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"formGroup"],[1,"row","g-3"],[1,"col-lg-3","col-sm-6"],[3,"label","options","onSelectOptionEvent",4,"ngIf"],["class","col-lg-3 col-sm-6",4,"ngIf"],[1,"form-label"],["type","text","formControlName","internalCode",1,"form-control"],["type","text","formControlName","customerCode",1,"form-control"],[1,"col-12"],["formControlName","description",1,"form-control"],[3,"label","options","onSelectOptionEvent"],[3,"label","options","selectedOptionId","onSelectOptionEvent"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Nueva orden de trabajo"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return n.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,U,20,6,"form",4),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return n.activeModal.close("Close click")}),t._uU(8,"Cerrar"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return n.saveWorkOrder()}),t._uU(10,"Guardar"),t.qZA()()),2&r&&(t.xp6(5),t.Q6J("ngIf",n.workOrderForm))},dependencies:[e.O5,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,C.J,w.s]})}var v=(()=>{return(s=v||(v={}))[s.customer=0]="customer",s[s.branch=1]="branch",s[s.equipment=2]="equipment",s[s.workOrderType=3]="workOrderType",s[s.user=4]="user",v;var s})(),S=c(2771),P=c(7339),J=c(1066);function q(s,o){if(1&s){const r=t.EpF();t.TgZ(0,"tr",1),t.NdJ("click",function(){const l=t.CHM(r).$implicit,L=t.oxw(2);return t.KtG(L.navigateToWorkOrder(l))}),t.TgZ(1,"td")(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"td")(5,"p"),t._uU(6),t.ALo(7,"workState"),t.qZA()(),t.TgZ(8,"td")(9,"p"),t._uU(10),t.qZA()(),t.TgZ(11,"td")(12,"p"),t._uU(13),t.qZA()(),t.TgZ(14,"td")(15,"p"),t._uU(16),t.qZA()()()}if(2&s){const r=o.$implicit;t.xp6(3),t.Oqu(r.internalCode?r.internalCode:r.workOrderId),t.xp6(3),t.Oqu(t.lcZ(7,5,r.workState)),t.xp6(4),t.Oqu(r.customerName),t.xp6(3),t.Oqu(r.branchName),t.xp6(3),t.Oqu(r.assignedUserName)}}function D(s,o){if(1&s&&(t.TgZ(0,"tbody"),t.YNc(1,q,17,7,"tr",5),t.qZA()),2&s){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.filteredWorkOrders)}}class Z{constructor(o){this.router=o,this.columns=T,this.filteredCodes="",this.filteredCustomer="",this.filteredBranch="",this.filteredUser=""}ngOnChanges(){this.workOrders&&this.initWorkOrders()}navigateToWorkOrder(o){this.router.navigateByUrl(`/${S.p7.workOrderPath}/${o.workOrderId}`)}onApplyFilter(o,r){if(this.workOrders){switch(r){case this.columns.code:this.filteredCodes=o.toLocaleLowerCase();break;case this.columns.customer:this.filteredCustomer=o.toLocaleLowerCase();break;case this.columns.branch:this.filteredBranch=o.toLocaleLowerCase();break;case this.columns.user:this.filteredUser=o.toLocaleLowerCase()}this.filterWorkOrders()}}initWorkOrders(){this.filteredWorkOrders=this.workOrders,this.sortBy(null,T.code)}filterWorkOrders(){!this.workOrders||(this.filteredWorkOrders=this.workOrders.filter(o=>{let r=!1;return r=!this.filteredCodes.length||(o.internalCode?o.internalCode.toString().includes(this.filteredCodes):o.workOrderId.toString().includes(this.filteredCodes)),!r||(r=!this.filteredCustomer.length||o.customerName.toLocaleLowerCase().includes(this.filteredCustomer),!r)||(r=!this.filteredBranch.length||o.branchName.toLocaleLowerCase().includes(this.filteredBranch),!r)||(r=!this.filteredUser.length||o.assignedUserName.toLocaleLowerCase().includes(this.filteredUser)),r}))}sortBy(o,r){if(!o||!o.target.tagName.includes("path")&&!o.target.tagName.includes("svg"))switch((!this.sortingType||this.sortedBy!=r)&&(this.sortingType=k.ascending),this.sortedBy==r&&(this.sortingType=this.sortingType==k.ascending?k.descending:k.ascending),this.sortedBy=r,r){case T.code:this.filteredWorkOrders.sort(this.sortingType==k.ascending?(n,i)=>n.internalCode&&i.internalCode?n.internalCode-i.internalCode:n.internalCode&&!i.internalCode?-1:!n.internalCode&&i.internalCode?1:n.workOrderId-i.workOrderId:(n,i)=>n.internalCode&&i.internalCode?i.internalCode-n.internalCode:n.internalCode&&!i.internalCode?1:!n.internalCode&&i.internalCode?-1:i.workOrderId-n.workOrderId);break;case T.state:this.filteredWorkOrders.sort(this.sortingType==k.ascending?(n,i)=>n.workState.id-i.workState.id:(n,i)=>i.workState.id-n.workState.id);break;case T.customer:this.filteredWorkOrders.sort(this.sortingType==k.ascending?(n,i)=>n.customerName.localeCompare(i.customerName):(n,i)=>i.customerName.localeCompare(n.customerName));break;case T.branch:this.filteredWorkOrders.sort(this.sortingType==k.ascending?(n,i)=>n.branchName.localeCompare(i.branchName):(n,i)=>i.branchName.localeCompare(n.branchName));break;case T.user:this.filteredWorkOrders.sort(this.sortingType==k.ascending?(n,i)=>n.assignedUserName.localeCompare(i.assignedUserName):(n,i)=>i.assignedUserName.localeCompare(n.assignedUserName))}}static#t=this.\u0275fac=function(r){return new(r||Z)(t.Y36(f.F0))};static#e=this.\u0275cmp=t.Xpm({type:Z,selectors:[["work-orders-table"]],inputs:{workOrders:"workOrders"},features:[t.TTD],decls:28,vars:1,consts:[[1,"table","table-hover"],[3,"click"],[1,"d-flex","justify-content-between","gap-2"],[3,"applyFilterEvent"],[4,"ngIf"],[3,"click",4,"ngFor","ngForOf"]],template:function(r,n){1&r&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.NdJ("click",function(l){return n.sortBy(l,n.columns.code)}),t.TgZ(4,"div",2)(5,"p"),t._uU(6,"C\xf3digo"),t.qZA(),t.TgZ(7,"app-column-filter",3),t.NdJ("applyFilterEvent",function(l){return n.onApplyFilter(l,n.columns.code)}),t.qZA()()(),t.TgZ(8,"th",1),t.NdJ("click",function(l){return n.sortBy(l,n.columns.state)}),t.TgZ(9,"div",2)(10,"p"),t._uU(11,"Estado"),t.qZA()()(),t.TgZ(12,"th",1),t.NdJ("click",function(l){return n.sortBy(l,n.columns.customer)}),t.TgZ(13,"div",2)(14,"p"),t._uU(15,"Cliente"),t.qZA(),t.TgZ(16,"app-column-filter",3),t.NdJ("applyFilterEvent",function(l){return n.onApplyFilter(l,n.columns.customer)}),t.qZA()()(),t.TgZ(17,"th",1),t.NdJ("click",function(l){return n.sortBy(l,n.columns.branch)}),t.TgZ(18,"div",2)(19,"p"),t._uU(20,"Sucursal"),t.qZA(),t.TgZ(21,"app-column-filter",3),t.NdJ("applyFilterEvent",function(l){return n.onApplyFilter(l,n.columns.branch)}),t.qZA()()(),t.TgZ(22,"th",1),t.NdJ("click",function(l){return n.sortBy(l,n.columns.user)}),t.TgZ(23,"div",2)(24,"p"),t._uU(25,"Asignado a"),t.qZA(),t.TgZ(26,"app-column-filter",3),t.NdJ("applyFilterEvent",function(l){return n.onApplyFilter(l,n.columns.user)}),t.qZA()()()()(),t.YNc(27,D,2,1,"tbody",4),t.qZA()),2&r&&(t.xp6(27),t.Q6J("ngIf",n.filteredWorkOrders&&n.filteredWorkOrders.length))},dependencies:[e.sg,e.O5,P.O,J.$],styles:["[_nghost-%COMP%]{display:block;width:100%;overflow:auto}.table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{cursor:pointer}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}@media screen and (min-width: 992px){[_nghost-%COMP%]{overflow:visible}}"]})}var T=(()=>{return(s=T||(T={}))[s.code=0]="code",s[s.state=1]="state",s[s.customer=2]="customer",s[s.branch=3]="branch",s[s.user=4]="user",T;var s})(),k=(()=>{return(s=k||(k={}))[s.ascending=0]="ascending",s[s.descending=1]="descending",k;var s})();class F{constructor(o,r){this.httpService=o,this.modalService=r}ngOnInit(){this.getWorkOrders()}getWorkOrders(){this.httpService.get(`${p.G.workOrderApi}`).subscribe(o=>this.workOrders=o)}openAddWorkOrderModal(){this.modalService.open(y,{size:"xl"})}static#t=this.\u0275fac=function(r){return new(r||F)(t.Y36(a.O),t.Y36(_.FF))};static#e=this.\u0275cmp=t.Xpm({type:F,selectors:[["app-work-orders"]],decls:10,vars:1,consts:[[1,"container"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"row","mt-3"],[1,"col-12"],[3,"workOrders"],[1,"d-flex","justify-content-center","align-items-center"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"\xd3RDENES DE TRABAJO"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return n.openAddWorkOrderModal()}),t._uU(5,"A\xf1adir nueva \xf3rden de trabajo"),t.qZA()(),t.TgZ(6,"div",3)(7,"div",4),t._UZ(8,"work-orders-table",5),t.qZA()()(),t._UZ(9,"div",6)),2&r&&(t.xp6(8),t.Q6J("workOrders",n.workOrders))},dependencies:[Z]})}const B=[{path:"",component:F}];class I{static#t=this.\u0275fac=function(r){return new(r||I)};static#e=this.\u0275mod=t.oAB({type:I});static#r=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(B),f.Bz]})}class E{static#t=this.\u0275fac=function(r){return new(r||E)};static#e=this.\u0275mod=t.oAB({type:E});static#r=this.\u0275inj=t.cJS({imports:[e.ez,I,m.m,h.I]})}}}]);