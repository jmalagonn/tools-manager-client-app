<section class="container">
    <h1 class="text-center mt-3">Agregar nuevo equipo o herramienta</h1>
    <form [formGroup]="addNewToolForm!">
        <div class="row justify-content-center">
            <div class="col-lg-4 col-sm-6">
                <label for="toolName" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="toolName" formControlName="toolName">
            </div>
        </div>
        <div class="row mt-3" *ngIf="tool && tool.toolParameters && tool.toolParameters.length">
            <h2 class="text-center">Par치metros a침adidos</h2>
            <div class="col"></div>
        </div>
        <div class="text-center mt-3" *ngIf="!isAddingAdditionalInfo; else addingAdditionalInfo">
            <button class="btn btn-outline-primary" (click)="setIsAddingAdditionalInfo(true)">Agregar informaci칩n adicional</button>
            <button class="btn btn-outline-primary ms-2" disabled>Guardar</button>
        </div>
        <ng-template #addingAdditionalInfo>
            <div class="row mt-3" *ngIf="!isAddingExistingParameter && !isAddingNewParameter">
                <div class="col d-flex justify-content-center">
                    <app-dropdown-input 
                        [buttonText]="'Seleccionar nuevo par치metro'"
                        [options]="toolParameters | toItemList:'toolParameter'"
                        [showAddNewItemButton]="true"
                        (selectItemEvent)="setIsAddingExistingParameter(true)"
                        (addNewItemEvent)="setIsAddingNewParameter(true)">
                    </app-dropdown-input>
                    <div>
                        <button class="btn btn-outline-danger ms-2" (click)="setIsAddingAdditionalInfo(false)">Cancelar</button>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col">
                    <app-set-parameter 
                        *ngIf="isAddingExistingParameter"
                        (cancelEvent)="this.setIsAddingExistingParameter(false)"
                        (setParameterEvent)="onAddParameter($event)">
                    </app-set-parameter>
                    <app-add-new-parameter 
                        *ngIf="isAddingNewParameter"
                        (cancelEvent)="this.setIsAddingNewParameter(false)"
                        (addNewParameterEvent)="onAddParameter($event)">
                    </app-add-new-parameter>
                </div>
            </div>
        </ng-template>
    </form>
</section>