"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[592],{9127:(w,l,o)=>{o.d(l,{I:()=>u});var t=o(6895),r=o(1571);class u{static#t=this.\u0275fac=function(n){return new(n||u)};static#n=this.\u0275mod=r.oAB({type:u});static#e=this.\u0275inj=r.cJS({imports:[t.ez]})}},860:(w,l,o)=>{o.d(l,{D:()=>t});var t=(()=>{return(r=t||(t={}))[r.info=0]="info",r[r.check=1]="check",r[r.warning=2]="warning",r[r.trash=3]="trash",r[r.edit=4]="edit",t;var r})()},2368:(w,l,o)=>{o.d(l,{Y:()=>c});var t=o(1458),r=o(5698),u=o(1571),i=o(3143);class c{constructor(s){this.accountService=s,this.accountService.currentAccount$.pipe((0,r.q)(1)).subscribe(e=>this.user=e)}transform(s){return!!this.user&&(!!this.user.userRoles.some(e=>e.userRoleId==t.v.AppAdmin||e.userRoleId==t.v.CompanyAdmin)||this.user.userRoles.some(e=>e.userRoleId==s))}static#t=this.\u0275fac=function(e){return new(e||c)(u.Y36(i.B,16))};static#n=this.\u0275pipe=u.Yjl({name:"userRoles",type:c,pure:!0})}},6858:(w,l,o)=>{o.d(l,{O:()=>i});var t=o(2340),r=o(1571),u=o(529);class i{constructor(n){this.httpClient=n,this.api_url=t.N.apiUrl}get(n){return this.httpClient.get(this.api_url+n)}post(n,s){return this.httpClient.post(this.api_url+n,s)}put(n,s){return this.httpClient.put(this.api_url+n,s)}postWithOptions(n,s,e){return this.httpClient.post(this.api_url+n,s,e)}static#t=this.\u0275fac=function(s){return new(s||i)(r.LFG(u.eN))};static#n=this.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}},3366:(w,l,o)=>{o.d(l,{i:()=>f});var t=o(1571),r=o(6895);function u(_,g){if(1&_&&(t.TgZ(0,"label",5),t._uU(1),t.qZA()),2&_){const a=t.oxw();t.uIk("for","dropdown-input-"+a.componentId),t.xp6(1),t.Oqu(a.label)}}function i(_,g){if(1&_){const a=t.EpF();t.TgZ(0,"li",13),t.NdJ("click",function(){const C=t.CHM(a).$implicit,d=t.oxw(3);return t.KtG(d.selectItemEvent.emit(C))}),t._uU(1),t.qZA()}if(2&_){const a=g.$implicit;t.xp6(1),t.hij(" ",a.name," ")}}function c(_,g){if(1&_){const a=t.EpF();t.ynx(0),t.TgZ(1,"input",10),t.NdJ("input",function(E){t.CHM(a);const C=t.oxw(2);return t.KtG(C.filterParameters(E))}),t.qZA(),t.TgZ(2,"ul",11),t.YNc(3,i,2,1,"li",12),t.qZA(),t.BQk()}if(2&_){const a=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",a.filteredOptions)}}function n(_,g){1&_&&(t.TgZ(0,"ul",11)(1,"li",14),t._uU(2," No hay elementos "),t.qZA()())}function s(_,g){if(1&_){const a=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(a);const E=t.oxw(2);return t.KtG(E.addNewItemEvent.emit())}),t.TgZ(1,"button",16),t._uU(2),t.qZA()()}if(2&_){const a=t.oxw(2);t.xp6(2),t.hij(" ",a.showAddNewItemButtonText?a.showAddNewItemButtonText:"A\xf1adir nuevo elemento"," ")}}function e(_,g){if(1&_&&(t.TgZ(0,"div",6),t.YNc(1,c,4,1,"ng-container",7),t.YNc(2,n,3,0,"ng-template",null,8,t.W1O),t.YNc(4,s,3,1,"div",9),t.qZA()),2&_){const a=t.MAs(3),h=t.oxw();t.xp6(1),t.Q6J("ngIf",h.filteredOptions.length)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",h.showAddNewItemButton)}}class f{constructor(){this.componentId=Math.random().toString(36).slice(-6),this.showDropdownList=!1,this.showAddNewItemButton=!1,this.selectItemEvent=new t.vpe,this.addNewItemEvent=new t.vpe}ngOnChanges(){this.options&&(this.filteredOptions=this.options)}filterParameters(g){this.filteredOptions=!g.target.value||g.target.value.length<2?this.options:this.options?.filter(a=>a.name.toLocaleLowerCase().includes(g.target.value.toLocaleLowerCase()))}toggleShowDropdownList(){this.showDropdownList=!this.showDropdownList}static#t=this.\u0275fac=function(a){return new(a||f)};static#n=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-dropdown-input"]],inputs:{label:"label",buttonText:"buttonText",options:"options",showAddNewItemButton:"showAddNewItemButton",showAddNewItemButtonText:"showAddNewItemButtonText"},outputs:{selectItemEvent:"selectItemEvent",addNewItemEvent:"addNewItemEvent"},features:[t.TTD],decls:6,vars:3,consts:[[1,"dropdown-intput"],["class","form-label",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","dropdown-toggle",3,"click"],[1,"caret"],["class","dropdown-input--options",4,"ngIf"],[1,"form-label"],[1,"dropdown-input--options"],[4,"ngIf","ngIfElse"],["noOptions",""],["class","d-flex justify-content-center mt-1",3,"click",4,"ngIf"],["type","text","placeholder","Buscar par\xe1metro",1,"form-control","form-control-sm",3,"input"],[1,"list-group","list-group-flush"],["class","list-group-item","role","button",3,"click",4,"ngFor","ngForOf"],["role","button",1,"list-group-item",3,"click"],[1,"list-group-item"],[1,"d-flex","justify-content-center","mt-1",3,"click"],[1,"btn","btn-sm","btn-outline-primary"]],template:function(a,h){1&a&&(t.TgZ(0,"div",0),t.YNc(1,u,2,2,"label",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return h.toggleShowDropdownList()}),t._uU(3),t._UZ(4,"span",3),t.qZA(),t.YNc(5,e,5,3,"div",4),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",h.label),t.xp6(2),t.hij(" ",h.buttonText," "),t.xp6(2),t.Q6J("ngIf",h.showDropdownList))},dependencies:[r.sg,r.O5],styles:[".dropdown-input--options[_ngcontent-%COMP%]{padding:.2rem;border:1px solid #ced4da;border-radius:.375rem;max-height:200px;overflow:auto}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:.25rem}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:.5rem;font-size:.8rem}.dropdown-input--options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#c8c8c833}"]})}},1875:(w,l,o)=>{o.d(l,{J:()=>n});var t=o(1571),r=o(6895),u=o(9453);function i(s,e){if(1&s&&(t.TgZ(0,"label",6),t._uU(1),t.qZA()),2&s){const f=t.oxw();t.xp6(1),t.Oqu(f.label)}}function c(s,e){if(1&s){const f=t.EpF();t.TgZ(0,"li",7),t.NdJ("click",function(){const a=t.CHM(f).$implicit,h=t.oxw();return t.KtG(h.onSelectOption(a))}),t.TgZ(1,"p",8),t._uU(2),t.qZA()()}if(2&s){const f=e.$implicit;t.xp6(2),t.Oqu(f.description)}}class n{constructor(){this.buttonText="Seleccionar",this.onSelectOptionEvent=new t.vpe}onSelectOption(e){this.buttonText=e.description,this.onSelectOptionEvent.emit(e)}static#t=this.\u0275fac=function(f){return new(f||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dropdown"]],inputs:{label:"label",buttonText:"buttonText",options:"options"},outputs:{onSelectOptionEvent:"onSelectOptionEvent"},decls:7,vars:3,consts:[["ngbDropdown","",1,"app-dropdown"],["class","form-label",4,"ngIf"],["ngbDropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","app-dropdown--button"],[1,"caret"],["ngbDropdownMenu","","role","menu",1,"app-dropdown--menu"],["class","dp-item","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[1,"form-label"],["ngbDropdownItem","",1,"dp-item",3,"click"],["role","button",1,"m-0","ps-2","pe-2"]],template:function(f,_){1&f&&(t.TgZ(0,"div",0),t.YNc(1,i,2,1,"label",1),t.TgZ(2,"button",2),t._uU(3),t._UZ(4,"span",3),t.qZA(),t.TgZ(5,"ul",4),t.YNc(6,c,3,1,"li",5),t.qZA()()),2&f&&(t.xp6(1),t.Q6J("ngIf",_.label),t.xp6(2),t.hij(" ",_.selectedOption?_.selectedOption.description:_.buttonText," "),t.xp6(3),t.Q6J("ngForOf",_.options))},dependencies:[r.sg,r.O5,u.jt,u.iD,u.Vi,u.TH],styles:[".dp-item[_ngcontent-%COMP%]:hover{background:rgba(200,200,200,.1)}.app-dropdown--button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #ced4da;width:100%}.app-dropdown--menu[_ngcontent-%COMP%]{max-height:200px;overflow:auto}"]})}},3741:(w,l,o)=>{o.d(l,{D:()=>i});var t=o(2687),r=o(1571),u=o(2216);class i{constructor(){this.faEdit=t.Xcf}static#t=this.\u0275fac=function(s){return new(s||i)};static#n=this.\u0275cmp=r.Xpm({type:i,selectors:[["app-edit-model"]],decls:1,vars:1,consts:[["role","button",1,"ms-3",3,"icon"]],template:function(s,e){1&s&&r._UZ(0,"fa-icon",0),2&s&&r.Q6J("icon",e.faEdit)},dependencies:[u.BN],styles:["[_nghost-%COMP%]{display:inline-flex}fa-icon[_ngcontent-%COMP%]{color:#64646480;font-size:1rem}fa-icon[_ngcontent-%COMP%]:hover{color:#0d6efd}"]})}},8073:(w,l,o)=>{o.d(l,{H:()=>C});var t=o(1571),r=o(2771),u=o(6895),i=o(2216),c=o(2687),n=o(860);class s{constructor(){this.listActions=n.D,this.faEdit=c.Xcf}transform(m){return c.Xcf}static#t=this.\u0275fac=function(p){return new(p||s)};static#n=this.\u0275pipe=t.Yjl({name:"listActionIcon",type:s,pure:!0})}function e(d,m){if(1&d&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&d){const p=m.$implicit;t.xp6(1),t.hij(" ",p," ")}}function f(d,m){1&d&&(t.TgZ(0,"th"),t._uU(1," Acciones "),t.qZA())}function _(d,m){if(1&d){const p=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const v=t.CHM(p).$implicit,O=t.oxw(2).$implicit,b=t.oxw(2);return t.KtG(b.actionButtonClicked(v,O))}),t._UZ(1,"fa-icon",9),t.ALo(2,"listActionIcon"),t.qZA()}if(2&d){const p=m.$implicit;t.xp6(1),t.Q6J("icon",t.lcZ(2,1,p))}}function g(d,m){if(1&d&&(t.TgZ(0,"td"),t.YNc(1,_,3,3,"button",7),t.qZA()),2&d){const p=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",p.actions)}}function a(d,m){if(1&d){const p=t.EpF();t.TgZ(0,"tr",6),t.NdJ("click",function(T){const O=t.CHM(p).$implicit,b=t.oxw(2);return t.KtG(b.onRowClicked(T,O))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,g,2,1,"td",4),t.qZA()}if(2&d){const p=m.$implicit,I=t.oxw(2);t.xp6(2),t.hij(" ",p.id," "),t.xp6(2),t.hij(" ",p.name," "),t.xp6(1),t.Q6J("ngIf",I.actions)}}function h(d,m){if(1&d&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr"),t.YNc(3,e,2,1,"th",3),t.YNc(4,f,2,0,"th",4),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,a,6,3,"tr",5),t.qZA()()),2&d){const p=t.oxw();t.xp6(3),t.Q6J("ngForOf",p.headers),t.xp6(1),t.Q6J("ngIf",p.actions),t.xp6(2),t.Q6J("ngForOf",p.items)}}function E(d,m){1&d&&(t.TgZ(0,"p",10),t._uU(1," No se encontraron elementos\n"),t.qZA())}class C{constructor(){this.headers=r.$x.itemsListDefault,this.rowClickedEvent=new t.vpe,this.actionButtonClickedEvent=new t.vpe}onRowClicked(m,p){m.composedPath().some(I=>"svg"===I.tagName)||this.rowClickedEvent.emit(p)}actionButtonClicked(m,p){this.actionButtonClickedEvent.emit({action:m,item:p})}static#t=this.\u0275fac=function(p){return new(p||C)};static#n=this.\u0275cmp=t.Xpm({type:C,selectors:[["app-items-list"]],inputs:{items:"items",actions:"actions",headers:"headers"},outputs:{rowClickedEvent:"rowClickedEvent",actionButtonClickedEvent:"actionButtonClickedEvent"},decls:2,vars:2,consts:[["class","table table-hover",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",3,"click",4,"ngFor","ngForOf"],["role","button",3,"click"],["class","action-button","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"action-button",3,"click"],[1,"text-primary",3,"icon"],[1,"text-center","mt-3"]],template:function(p,I){1&p&&(t.YNc(0,h,7,3,"table",0),t.YNc(1,E,2,0,"p",1)),2&p&&(t.Q6J("ngIf",I.items&&I.items.length),t.xp6(1),t.Q6J("ngIf",I.items&&!I.items.length))},dependencies:[u.sg,u.O5,i.BN,s],styles:[".action-button[_ngcontent-%COMP%]{padding:0;background:transparent;border:none;margin-right:.5rem}.action-button[_ngcontent-%COMP%]:last-child{margin-right:none}.action-button[_ngcontent-%COMP%]:hover{color:#000}"]})}},7129:(w,l,o)=>{o.d(l,{$:()=>r});var t=o(1571);class r{transform(i,c=6){return i.slice(-1*c)}static#t=this.\u0275fac=function(c){return new(c||r)};static#n=this.\u0275pipe=t.Yjl({name:"lastCharacters",type:r,pure:!0})}},7281:(w,l,o)=>{o.d(l,{s:()=>r});var t=o(1571);class r{transform(i,c=""){if(!i)return new Array;switch(c){case"user":case"employee":return i.map(e=>({id:e.userId,description:e.name}));case"customer":return i.map(e=>({id:e.customerId,description:e.customerName}));case"branch":return i.map(e=>({id:e.branchId,description:e.branchName}));case"equipment":return i.map(e=>({id:e.equipmentId,description:e.equipmentName}));case"workItemActivityLog":return i.map(e=>({id:e.workItemActivityLogId,description:e.description}));case"equipmentParameter":return i.map(e=>({id:e.equipmentParameterId,description:`${e.name} | Magnitud: ${e.measurementUnitSymbol}`}));case"measurementUnits":return i.map(e=>({id:e.measurementUnitId,description:`${e.displayName} (${e.symbol})`}));default:const{idPropName:n,descriptionPropName:s}=this.findProperties(i[0]);return i.map(e=>({id:e[n],description:e[s]}))}}findProperties(i){let c="",n="";for(let s in i)s.includes("Id")&&(c=s),(s.includes("Name")||s.includes("Description"))&&(n=s);return{idPropName:c,descriptionPropName:n}}static#t=this.\u0275fac=function(c){return new(c||r)};static#n=this.\u0275pipe=t.Yjl({name:"toDropdownItem",type:r,pure:!0})}},5090:(w,l,o)=>{o.d(l,{R:()=>r});var t=o(1571);class r{transform(i,c){if(!i)return new Array;switch(c){case"user":return i.map(n=>({id:n.userId,name:n.name}));case"customer":return i.map(n=>({id:n.customerId,name:n.customerName}));case"branch":return i.map(n=>({id:n.branchId,name:n.branchName}));case"equipment":return i.map(n=>({id:n.equipmentId,name:n.equipmentName}));case"workItemActivityLog":return i.map(n=>({id:n.workItemActivityLogId,name:n.description}));case"equipmentParameter":return i.map(n=>({id:n.equipmentParameterId,name:`${n.name} | Magnitud: ${n.measurementUnitSymbol}`}));case"measurementUnits":return i.map(n=>({id:n.measurementUnitId,name:`${n.displayName} (${n.symbol})`}));case"toolParameter":return i.map(n=>({id:n.id,name:`${n.name} | Magnitud: ${n.measurementUnitSymbol}`}));case"tool":return i.map(n=>({id:n.toolGuid.slice(-6),name:n.toolName}));default:return new Array}}static#t=this.\u0275fac=function(c){return new(c||r)};static#n=this.\u0275pipe=t.Yjl({name:"toItemList",type:r,pure:!0})}},1066:(w,l,o)=>{o.d(l,{$:()=>r});var t=o(1571);class r{transform(i){if(!i)return"";switch(i.workStateId){case 1:return"Abierta";case 2:return"En proceso";case 3:return"Cerrada";default:return""}}static#t=this.\u0275fac=function(c){return new(c||r)};static#n=this.\u0275pipe=t.Yjl({name:"workState",type:r,pure:!0})}},2340:(w,l,o)=>{o.d(l,{N:()=>t});const t={production:!0,apiUrl:"http://31.170.165.178/api/",filesUrl:""}}}]);