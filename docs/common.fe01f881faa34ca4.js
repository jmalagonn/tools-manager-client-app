"use strict";(self.webpackChunkToolsManagerClientApp=self.webpackChunkToolsManagerClientApp||[]).push([[592],{9127:(d,p,o)=>{o.d(p,{I:()=>_});var t=o(6895),r=o(1571);class _{static#t=this.\u0275fac=function(n){return new(n||_)};static#e=this.\u0275mod=r.oAB({type:_});static#n=this.\u0275inj=r.cJS({imports:[t.ez]})}},860:(d,p,o)=>{o.d(p,{D:()=>t});var t=(()=>{return(r=t||(t={}))[r.info=0]="info",r[r.check=1]="check",r[r.warning=2]="warning",r[r.trash=3]="trash",r[r.edit=4]="edit",t;var r})()},2368:(d,p,o)=>{o.d(p,{Y:()=>c});var t=o(1458),r=o(5698),_=o(1571),i=o(3143);class c{constructor(s){this.accountService=s,this.accountService.currentAccount$.pipe((0,r.q)(1)).subscribe(e=>this.user=e)}transform(s){return!!this.user&&(!!this.user.userRoles.some(e=>e.userRoleId==t.v.AppAdmin||e.userRoleId==t.v.CompanyAdmin)||this.user.userRoles.some(e=>e.userRoleId==s))}static#t=this.\u0275fac=function(e){return new(e||c)(_.Y36(i.B,16))};static#e=this.\u0275pipe=_.Yjl({name:"userRoles",type:c,pure:!0})}},6858:(d,p,o)=>{o.d(p,{O:()=>i});var t=o(2340),r=o(1571),_=o(529);class i{constructor(n){this.httpClient=n,this.api_url=t.N.apiUrl}get(n){return this.httpClient.get(this.api_url+n)}post(n,s){return this.httpClient.post(this.api_url+n,s)}put(n,s){return this.httpClient.put(this.api_url+n,s)}postWithOptions(n,s,e){return this.httpClient.post(this.api_url+n,s,e)}static#t=this.\u0275fac=function(s){return new(s||i)(r.LFG(_.eN))};static#e=this.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}},1875:(d,p,o)=>{o.d(p,{J:()=>c});var t=o(1571),r=o(6895),_=o(9453);function i(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",5),t.NdJ("click",function(){const g=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.onSelectOption(g))}),t.TgZ(1,"p",6),t._uU(2),t.qZA()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.description)}}class c{constructor(){this.label="Seleccionar",this.onSelectOptionEvent=new t.vpe}onSelectOption(s){this.label=s.description,this.onSelectOptionEvent.emit(s)}static#t=this.\u0275fac=function(e){return new(e||c)};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-dropdown"]],inputs:{label:"label",options:"options"},outputs:{onSelectOptionEvent:"onSelectOptionEvent"},decls:6,vars:2,consts:[["ngbDropdown","",1,"app-dropdown"],["ngbDropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","app-dropdown--button"],[1,"caret"],["ngbDropdownMenu","","role","menu",1,"app-dropdown--menu"],["class","dp-item","ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"dp-item",3,"click"],["role","button",1,"m-0","ps-2","pe-2"]],template:function(e,h){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2),t._UZ(3,"span",2),t.qZA(),t.TgZ(4,"ul",3),t.YNc(5,i,3,1,"li",4),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",h.selectedOption?h.selectedOption.description:h.label," "),t.xp6(3),t.Q6J("ngForOf",h.options))},dependencies:[r.sg,_.jt,_.iD,_.Vi,_.TH],styles:[".dp-item[_ngcontent-%COMP%]:hover{background:rgba(200,200,200,.1)}.app-dropdown--button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #ced4da;width:100%}.app-dropdown--menu[_ngcontent-%COMP%]{max-height:200px;overflow:auto}"]})}},8073:(d,p,o)=>{o.d(p,{H:()=>f});var t=o(1571),r=o(2771),_=o(6895),i=o(2216),c=o(2687),n=o(860);class s{constructor(){this.listActions=n.D,this.faEdit=c.Xcf}transform(u){return c.Xcf}static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275pipe=t.Yjl({name:"listActionIcon",type:s,pure:!0})}function e(m,u){if(1&m&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&m){const a=u.$implicit;t.xp6(1),t.hij(" ",a," ")}}function h(m,u){1&m&&(t.TgZ(0,"th"),t._uU(1," Acciones "),t.qZA())}function b(m,u){if(1&m){const a=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const w=t.CHM(a).$implicit,E=t.oxw(2).$implicit,I=t.oxw(2);return t.KtG(I.actionButtonClicked(w,E))}),t._UZ(1,"fa-icon",9),t.ALo(2,"listActionIcon"),t.qZA()}if(2&m){const a=u.$implicit;t.xp6(1),t.Q6J("icon",t.lcZ(2,1,a))}}function g(m,u){if(1&m&&(t.TgZ(0,"td"),t.YNc(1,b,3,3,"button",7),t.qZA()),2&m){const a=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",a.actions)}}function C(m,u){if(1&m){const a=t.EpF();t.TgZ(0,"tr",6),t.NdJ("click",function(O){const E=t.CHM(a).$implicit,I=t.oxw(2);return t.KtG(I.onRowClicked(O,E))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,g,2,1,"td",4),t.qZA()}if(2&m){const a=u.$implicit,l=t.oxw(2);t.xp6(2),t.hij(" ",a.id," "),t.xp6(2),t.hij(" ",a.name," "),t.xp6(1),t.Q6J("ngIf",l.actions)}}function P(m,u){if(1&m&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr"),t.YNc(3,e,2,1,"th",3),t.YNc(4,h,2,0,"th",4),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,C,6,3,"tr",5),t.qZA()()),2&m){const a=t.oxw();t.xp6(3),t.Q6J("ngForOf",a.headers),t.xp6(1),t.Q6J("ngIf",a.actions),t.xp6(2),t.Q6J("ngForOf",a.items)}}function D(m,u){1&m&&(t.TgZ(0,"p",10),t._uU(1," No se encontraron elementos\n"),t.qZA())}class f{constructor(){this.headers=r.$x.itemsListDefault,this.rowClickedEvent=new t.vpe,this.actionButtonClickedEvent=new t.vpe}onRowClicked(u,a){u.composedPath().some(l=>"svg"===l.tagName)||this.rowClickedEvent.emit(a)}actionButtonClicked(u,a){this.actionButtonClickedEvent.emit({action:u,item:a})}static#t=this.\u0275fac=function(a){return new(a||f)};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-items-list"]],inputs:{items:"items",actions:"actions",headers:"headers"},outputs:{rowClickedEvent:"rowClickedEvent",actionButtonClickedEvent:"actionButtonClickedEvent"},decls:2,vars:2,consts:[["class","table table-hover",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",3,"click",4,"ngFor","ngForOf"],["role","button",3,"click"],["class","action-button","type","button",3,"click",4,"ngFor","ngForOf"],["type","button",1,"action-button",3,"click"],[1,"text-primary",3,"icon"],[1,"text-center","mt-3"]],template:function(a,l){1&a&&(t.YNc(0,P,7,3,"table",0),t.YNc(1,D,2,0,"p",1)),2&a&&(t.Q6J("ngIf",l.items&&l.items.length),t.xp6(1),t.Q6J("ngIf",l.items&&!l.items.length))},dependencies:[_.sg,_.O5,i.BN,s],styles:[".action-button[_ngcontent-%COMP%]{padding:0;background:transparent;border:none;margin-right:.5rem}.action-button[_ngcontent-%COMP%]:last-child{margin-right:none}.action-button[_ngcontent-%COMP%]:hover{color:#000}"]})}},7129:(d,p,o)=>{o.d(p,{$:()=>r});var t=o(1571);class r{transform(i,c=6){return i.slice(-1*c)}static#t=this.\u0275fac=function(c){return new(c||r)};static#e=this.\u0275pipe=t.Yjl({name:"lastCharacters",type:r,pure:!0})}},7281:(d,p,o)=>{o.d(p,{s:()=>r});var t=o(1571);class r{transform(i,c=""){if(!i)return new Array;switch(c){case"user":case"employee":return i.map(e=>({id:e.userId,description:e.name}));case"customer":return i.map(e=>({id:e.customerId,description:e.customerName}));case"branch":return i.map(e=>({id:e.branchId,description:e.branchName}));case"equipment":return i.map(e=>({id:e.equipmentId,description:e.equipmentName}));case"workItemActivityLog":return i.map(e=>({id:e.workItemActivityLogId,description:e.description}));case"equipmentParameter":return i.map(e=>({id:e.equipmentParameterId,description:`${e.name} | Magnitud: ${e.measurementUnitSymbol}`}));case"measurementUnits":return i.map(e=>({id:e.measurementUnitId,description:`${e.displayName} (${e.symbol})`}));default:const{idPropName:n,descriptionPropName:s}=this.findProperties(i[0]);return i.map(e=>({id:e[n],description:e[s]}))}}findProperties(i){let c="",n="";for(let s in i)s.includes("Id")&&(c=s),(s.includes("Name")||s.includes("Description"))&&(n=s);return{idPropName:c,descriptionPropName:n}}static#t=this.\u0275fac=function(c){return new(c||r)};static#e=this.\u0275pipe=t.Yjl({name:"toDropdownItem",type:r,pure:!0})}},5090:(d,p,o)=>{o.d(p,{R:()=>r});var t=o(1571);class r{transform(i,c){if(!i)return new Array;switch(c){case"user":return i.map(n=>({id:n.userId,name:n.name}));case"customer":return i.map(n=>({id:n.customerId,name:n.customerName}));case"branch":return i.map(n=>({id:n.branchId,name:n.branchName}));case"equipment":return i.map(n=>({id:n.equipmentId,name:n.equipmentName}));case"workItemActivityLog":return i.map(n=>({id:n.workItemActivityLogId,name:n.description}));case"equipmentParameter":return i.map(n=>({id:n.equipmentParameterId,name:`${n.name} | Magnitud: ${n.measurementUnitSymbol}`}));case"measurementUnits":return i.map(n=>({id:n.measurementUnitId,name:`${n.displayName} (${n.symbol})`}));default:return new Array}}static#t=this.\u0275fac=function(c){return new(c||r)};static#e=this.\u0275pipe=t.Yjl({name:"toItemList",type:r,pure:!0})}},1066:(d,p,o)=>{o.d(p,{$:()=>r});var t=o(1571);class r{transform(i){if(!i)return"";switch(i.workStateId){case 1:return"Abierta";case 2:return"En proceso";case 3:return"Cerrada";default:return""}}static#t=this.\u0275fac=function(c){return new(c||r)};static#e=this.\u0275pipe=t.Yjl({name:"workState",type:r,pure:!0})}},2340:(d,p,o)=>{o.d(p,{N:()=>t});const t={production:!0,apiUrl:"https://toolsmanagerwebapi.azurewebsites.net/api/",filesUrl:""}}}]);